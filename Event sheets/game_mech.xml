<?xml version="1.0" encoding="utf-8" ?>
<c2eventsheet>
    <!--All the 'name' attributes are ignored by Construct 2 - they are there for readability only.-->
    <name>game_mech</name>
    <events>
        <include>transitition</include>
        <include>buttons</include>
        <include>debug</include>
        <event-group description="В данном листе описана механика игры: создание объектов, взаимодействие, условия проигрыша" sid="949871726551200" title="game_mech" />
        <comment></comment>
        <variable comment="Пройденное расстояние в пикселях" constant="0" name="total_distance_px" sid="625813204553263" static="0" type="number">0</variable>
        <variable comment="Пройденное расстояние раунда" constant="0" name="round_distance" sid="578831321668150" static="0" type="number">0</variable>
        <variable comment='Графы до &quot;NextBlock&quot;, в этот момент создается новый блок.' constant="0" name="current_distance" sid="803562047357635" static="0" type="number">0</variable>
        <variable comment="Расстояние, после которого создается следующий блок" constant="0" name="next_block" sid="627559993210622" static="0" type="number">550</variable>
        <variable comment="Скорость игры" constant="0" name="game_speed" sid="275087350257581" static="0" type="number">500</variable>
        <variable comment="Количество собранных за игровую сессию монет" constant="0" name="coins_count" sid="971448684389787" static="0" type="number">0</variable>
        <variable comment="Для тестов" constant="0" name="testing" sid="225484427494591" static="0" type="number">0</variable>
        <comment></comment>
        <comment></comment>
        <event-group description="Запуск уровня. Однократные настройки." sid="751369034375386" title="At the start">
            <sub-events>
                <comment></comment>
                <comment>Постепенный старт</comment>
                <comment>Функция возвращает состояние доступности двойного прыжка, в зависимости от значения глоб. перем. heart (вкл - 1 / выкл - 0). </comment>
                <comment></comment>
                <event-block sid="506372473156095">
                    <conditions>
                        <condition id="0" name="On function" sid="722433049054538" type="function">
                            <param id="0" name="Name">&quot;get_the_double_jump_state&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <comment>Данные беруться из массива gameplay_settings (количество жизней минус 1 (смещение), столбец массива)</comment>
                        <event-block sid="177117091677496">
                            <conditions />
                            <actions>
                                <action id="1" name="Set return value" sid="591290851832609" type="function">
                                    <param id="0" name="Value">ary_of_gameplay_settings.At(heart - 1, 1)</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <comment></comment>
                <comment>Функция возвращает состояние доступности боевого мяу, в зависимости от значения глоб. перем. heart (вкл - 1 / выкл - 0). </comment>
                <comment></comment>
                <event-block sid="616155838741989">
                    <conditions>
                        <condition id="0" name="On function" sid="263848606846558" type="function">
                            <param id="0" name="Name">&quot;get_the_battle_meow_state&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <comment>Данные берутся из массива gameplay_settings</comment>
                        <event-block sid="712872424655137">
                            <conditions />
                            <actions>
                                <action id="1" name="Set return value" sid="199343422946326" type="function">
                                    <param id="0" name="Value">ary_of_gameplay_settings.At(heart - 1, 0)</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <comment></comment>
                <comment></comment>
                <event-block sid="843609533686748">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="186437086655698" type="System" />
                    </conditions>
                    <actions />
                    <sub-events>
                        <comment>плавный переход</comment>
                        <event-block sid="582595891214622">
                            <conditions />
                            <actions>
                                <action id="0" name="Call function" sid="358345583194915" type="function">
                                    <param id="0" name="Name">&quot;set_transition_state&quot;</param>
                                    <param id="1" name="Parameter {n}">&quot;off&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="997971930955935">
                            <conditions />
                            <actions>
                                <action id="-9" name="Set value" sid="339147534502645" type="System">
                                    <param id="0" name="Variable">state_game</param>
                                    <param id="1" name="Value">&quot;play&quot;</param>
                                </action>
                                <action id="-10" name="Set value" sid="163509924444461" type="character_base">
                                    <param id="0" name="Instance variable">character_state</param>
                                    <param id="1" name="Value">&quot;play&quot;</param>
                                </action>
                                <action disabled="1" id="-13" name="Set time scale" sid="481363685657144" type="System">
                                    <param id="0" name="Time scale">0</param>
                                </action>
                                <action disabled="1" id="-10" name="Set value" sid="337003432752433" type="variables">
                                    <param id="0" name="Instance variable">time_scale</param>
                                    <param id="1" name="Value">0.2</param>
                                </action>
                            </actions>
                        </event-block>
                        <comment>Выключатель утренних лучей</comment>
                        <event-block sid="908488468568676">
                            <conditions>
                                <condition id="1" name="Compare at XY" sid="843542032535112" type="background_settings">
                                    <param id="0" name="X">heart - 1</param>
                                    <param id="1" name="Y">6</param>
                                    <param id="2" name="Comparison">0</param>
                                    <param id="3" name="Value">1</param>
                                </condition>
                                <condition id="-4" name="Trigger once while true" sid="201098665000549" type="System" />
                            </conditions>
                            <actions>
                                <action id="-15" name="Set visible" sid="960853284342684" type="sunset_rays">
                                    <param id="0" name="Visibility">1</param>
                                </action>
                                <action id="-9" name="Set value" sid="826163321954420" type="System">
                                    <param id="0" name="Variable">testing</param>
                                    <param id="1" name="Value">background_settings.At(heart-1,6)</param>
                                </action>
                            </actions>
                        </event-block>
                        <comment>Выключатель облаков</comment>
                        <event-block sid="349807970997912">
                            <conditions>
                                <condition id="1" name="Compare at XY" sid="156326913952614" type="background_settings">
                                    <param id="0" name="X">heart - 1</param>
                                    <param id="1" name="Y">5</param>
                                    <param id="2" name="Comparison">0</param>
                                    <param id="3" name="Value">1</param>
                                </condition>
                                <condition id="-4" name="Trigger once while true" sid="818159946248853" type="System" />
                            </conditions>
                            <actions>
                                <action id="-15" name="Set visible" sid="482354383397286" type="cloud">
                                    <param id="0" name="Visibility">1</param>
                                </action>
                                <action behavior="Bullet" id="5" name="Set enabled" sid="859502782038831" type="cloud">
                                    <param id="0" name="State">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <comment>Устанавливаем значениея настроек способностей персонажа из массива ary_of_gameplay_settings в переменные спрайта variables</comment>
                        <event-block sid="210317040028921">
                            <conditions />
                            <actions>
                                <action id="-10" name="Set value" sid="746261013750278" type="variables">
                                    <param id="0" name="Instance variable">double_jump</param>
                                    <param id="1" name="Value">function.Call(&quot;get_the_double_jump_state&quot;)</param>
                                </action>
                                <action id="-10" name="Set value" sid="683011099369646" type="variables">
                                    <param id="0" name="Instance variable">battle_meow</param>
                                    <param id="1" name="Value">function.Call(&quot;get_the_battle_meow_state&quot;)</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
            </sub-events>
        </event-group>
        <comment>Плавный старт</comment>
        <event-block disabled="1" sid="381549410327553">
            <conditions>
                <condition id="-6" name="Every X seconds" sid="236723686538507" type="System">
                    <param id="0" name="Interval (seconds)">0.1</param>
                </condition>
                <condition id="-7" name="Compare instance variable" sid="950136971097633" type="variables">
                    <param id="0" name="Instance variable">time_scale</param>
                    <param id="1" name="Comparison">3</param>
                    <param id="2" name="Value">1</param>
                </condition>
            </conditions>
            <actions>
                <action id="-10" name="Set value" sid="825056447968507" type="variables">
                    <param id="0" name="Instance variable">time_scale</param>
                    <param id="1" name="Value">variables.time_scale + 0.07</param>
                </action>
                <action id="-13" name="Set time scale" sid="216305126437567" type="System">
                    <param id="0" name="Time scale">variables.time_scale</param>
                </action>
            </actions>
        </event-block>
        <comment></comment>
        <comment></comment>
        <event-group description="Настройки игрового окна&#x0D;&#x0A;Расположение объектов слоя gui относительно игрового окна" sid="729866920859204" title="Camera">
            <sub-events>
                <comment>Привязываем камеру к базе по Y при старте</comment>
                <event-block sid="926220865784058">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="219454938488787" type="System" />
                    </conditions>
                    <actions>
                        <action id="-6" name="Scroll to Y" sid="287600304741035" type="System">
                            <param id="0" name="Y">character_base.Y</param>
                        </action>
                        <action id="-12" name="Set group active" sid="241510534354780" type="System">
                            <param id="0" name="Group name">&quot;Visualization of a jump&quot;</param>
                            <param id="1" name="State">1</param>
                        </action>
                    </actions>
                </event-block>
                <comment></comment>
                <comment>Привзяываем координату X камеры к точке &quot;camera&quot; базы</comment>
                <event-block sid="516785798811614">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="111738369081821" type="System">
                            <param id="0" name="Variable">state_game</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;play&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <comment>Динамическое слежение камеры по Y (Базоваая скорость следования камеры 1 - 0.93)</comment>
                        <event-block sid="352721056503039">
                            <conditions>
                                <condition id="-8" name="Compare two values" sid="435572083396936" type="System">
                                    <param id="0" name="First value">distance(0, character_base.Y, 0, scrolly)</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Second value">50</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-6" name="Scroll to Y" sid="486416735241225" type="System">
                                    <param id="0" name="Y">lerp(scrolly, character_base.Y, 1 - 0.97)</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <event-block sid="561619475634569">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="254538018554044" type="System">
                            <param id="0" name="Variable">state_game</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;play&quot;</param>
                        </condition>
                        <condition id="-4" name="Trigger once while true" sid="234716277121216" type="System" />
                    </conditions>
                    <actions>
                        <action id="-5" name="Scroll to X" sid="614505979892336" type="System">
                            <param id="0" name="X">character_base.imagepointX(&quot;Camera&quot;)</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <comment></comment>
        <event-group description="Building world&#x0D;&#x0A;" sid="418512211737103" title="Построение мира">
            <sub-events>
                <comment>Персонаж&#x0D;&#x0A;Параметры здания, с которого стартует персонаж&#x0D;&#x0A;Управление фоном&#x0D;&#x0A;Создание объектов:&#x0D;&#x0A;- Здания&#x0D;&#x0A;- Объекты на зданиях&#x0D;&#x0A;- Противники&#x0D;&#x0A;- Монеты&#x0D;&#x0A;Уничтожение объектов за пределами камеры</comment>
                <comment></comment>
                <comment>Персонаж</comment>
                <event-block sid="508423332172431">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="867030904884215" type="System">
                            <param id="0" name="Variable">state_game</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;play&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-4" name="Set position to another object" sid="853143728855630" type="character">
                            <param id="0" name="Object">character_base</param>
                            <param id="1" name="Image point (optional)">0</param>
                        </action>
                        <action behavior="Platform" id="1" name="Set max speed" sid="323066667404340" type="character_base">
                            <param id="0" name="Max Speed">game_speed</param>
                        </action>
                    </actions>
                    <sub-events>
                        <comment>Симуляция движения</comment>
                        <event-block sid="725210007763594">
                            <conditions>
                                <condition behavior="Platform" id="2" name="Is on floor" sid="455764921091840" type="character_base" />
                            </conditions>
                            <actions>
                                <action behavior="Platform" id="7" name="Simulate control" sid="139902599817825" type="character_base">
                                    <param id="0" name="Control">1</param>
                                </action>
                                <action id="4" name="Set animation" sid="361005447129786" type="character">
                                    <param id="0" name="Animation">&quot;run&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <comment></comment>
                    </sub-events>
                </event-block>
                <comment>Установка параметров для здания, на котором стартует персонаж, фона с городом и фона с облаками</comment>
                <event-block sid="312133395566850">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="913798645964651" type="System">
                            <param id="0" name="Variable">state_game</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;play&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <comment>Установка фона - времени суток</comment>
                        <event-block sid="656584142847992">
                            <conditions>
                                <condition id="-4" name="Trigger once while true" sid="783066090222514" type="System" />
                            </conditions>
                            <actions>
                                <action behavior="Bullet" id="3" name="Set angle of motion" sid="593995594473932" type="wall">
                                    <param id="0" name="Angle">180</param>
                                </action>
                                <action behavior="Bullet" id="0" name="Set speed" sid="597540457786759" type="wall">
                                    <param id="0" name="Speed">game_speed</param>
                                </action>
                                <action behavior="Bullet" id="3" name="Set angle of motion" sid="402078438548912" type="roof">
                                    <param id="0" name="Angle">180</param>
                                </action>
                                <action behavior="Bullet" id="0" name="Set speed" sid="108014858750262" type="roof">
                                    <param id="0" name="Speed">game_speed</param>
                                </action>
                                <action behavior="Bullet" id="3" name="Set angle of motion" sid="405994233181009" type="buildings1">
                                    <param id="0" name="Angle">180</param>
                                </action>
                                <action behavior="Bullet" id="3" name="Set angle of motion" sid="559375672500087" type="buildings2">
                                    <param id="0" name="Angle">180</param>
                                </action>
                                <action behavior="Bullet" id="3" name="Set angle of motion" sid="549677012309420" type="cloud">
                                    <param id="0" name="Angle">180</param>
                                </action>
                                <action id="5" name="Set frame" sid="556015027700078" type="backgrounds">
                                    <param id="0" name="Frame number">9 - heart</param>
                                </action>
                                <action id="-3" name="Set position" sid="965292096637204" type="backgrounds">
                                    <param id="0" name="X">0</param>
                                    <param id="1" name="Y">0</param>
                                </action>
                                <action id="-7" name="Set size" sid="480410870598055" type="backgrounds">
                                    <param id="0" name="Width">LayoutWidth</param>
                                    <param id="1" name="Height">600</param>
                                </action>
                            </actions>
                        </event-block>
                        <comment>Настройка якрости и контраста зданий на заднем фоне</comment>
                        <event-block sid="597986436269317">
                            <conditions>
                                <condition id="1" name="Compare at XY" sid="618248893809848" type="background_settings">
                                    <param id="0" name="X">heart -1</param>
                                    <param id="1" name="Y">4</param>
                                    <param id="2" name="Comparison">0</param>
                                    <param id="3" name="Value">1</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action behavior="Bullet" id="3" name="Set angle of motion" sid="189220549406928" type="bg_windows1">
                                    <param id="0" name="Angle">180</param>
                                </action>
                                <action behavior="Bullet" id="3" name="Set angle of motion" sid="549919114462334" type="bg_windows2">
                                    <param id="0" name="Angle">180</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="502197521546148">
                            <conditions>
                                <condition id="-22" name="Else" sid="576929243937574" type="System" />
                            </conditions>
                            <actions>
                                <action behavior="Bullet" id="5" name="Set enabled" sid="823457372122476" type="bg_windows1">
                                    <param id="0" name="State">0</param>
                                </action>
                                <action id="-15" name="Set visible" sid="347598341455606" type="bg_windows1">
                                    <param id="0" name="Visibility">0</param>
                                </action>
                                <action behavior="Bullet" id="5" name="Set enabled" sid="978068304409033" type="bg_windows2">
                                    <param id="0" name="State">0</param>
                                </action>
                                <action id="-15" name="Set visible" sid="895222140351221" type="bg_windows2">
                                    <param id="0" name="Visibility">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="472620592632447">
                            <conditions />
                            <actions>
                                <action id="-28" name="Set effect parameter" sid="230436644108641" type="buildings1">
                                    <param id="0" name="Effect">&quot;Brightness&quot;</param>
                                    <param id="1" name="Parameter index">0</param>
                                    <param id="2" name="Value">background_settings.At(heart - 1, 0)</param>
                                </action>
                                <action id="-28" name="Set effect parameter" sid="615743538361759" type="buildings1">
                                    <param id="0" name="Effect">&quot;Contrast&quot;</param>
                                    <param id="1" name="Parameter index">0</param>
                                    <param id="2" name="Value">background_settings.At(heart - 1, 1)</param>
                                </action>
                                <action id="-28" name="Set effect parameter" sid="459422202371739" type="buildings2">
                                    <param id="0" name="Effect">&quot;Brightness&quot;</param>
                                    <param id="1" name="Parameter index">0</param>
                                    <param id="2" name="Value">background_settings.At(heart - 1, 2)</param>
                                </action>
                                <action id="-28" name="Set effect parameter" sid="195144063498356" type="buildings2">
                                    <param id="0" name="Effect">&quot;Contrast&quot;</param>
                                    <param id="1" name="Parameter index">0</param>
                                    <param id="2" name="Value">background_settings.At(heart - 1, 3)</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <comment></comment>
                <comment>Бесконечная прокрутка заднего фона</comment>
                <event-block sid="469432332229855">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="749765240221603" type="System">
                            <param id="0" name="Variable">state_game</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;play&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="697997813344010">
                            <conditions>
                                <condition id="-1" name="Compare X" sid="979165940897343" type="buildings1">
                                    <param id="0" name="Comparison">3</param>
                                    <param id="1" name="X co-ordinate">-Self.Width / 2</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-1" name="Set X" sid="981695578891996" type="buildings1">
                                    <param id="0" name="X">Self.X + Self.Width / 2</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block any="1" sid="907035578522956">
                                    <conditions>
                                        <condition id="1" name="Compare at XY" sid="941522012512081" type="background_settings">
                                            <param id="0" name="X">heart -1</param>
                                            <param id="1" name="Y">4</param>
                                            <param id="2" name="Comparison">0</param>
                                            <param id="3" name="Value">1</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-1" name="Set X" sid="873006491346727" type="bg_windows1">
                                            <param id="0" name="X">Self.X + Self.Width / 2</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="324965408480889">
                            <conditions>
                                <condition id="-1" name="Compare X" sid="737736767997719" type="buildings2">
                                    <param id="0" name="Comparison">3</param>
                                    <param id="1" name="X co-ordinate">-Self.Width / 2</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-1" name="Set X" sid="241588470938026" type="buildings2">
                                    <param id="0" name="X">Self.X + Self.Width / 2</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block any="1" sid="457848021200801">
                                    <conditions>
                                        <condition id="1" name="Compare at XY" sid="412293705927987" type="background_settings">
                                            <param id="0" name="X">heart -1</param>
                                            <param id="1" name="Y">4</param>
                                            <param id="2" name="Comparison">0</param>
                                            <param id="3" name="Value">1</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-1" name="Set X" sid="929550995598293" type="bg_windows2">
                                            <param id="0" name="X">Self.X + Self.Width / 2</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <event-block sid="601062175209631">
                            <conditions>
                                <condition id="-1" name="Compare X" sid="409550018119792" type="cloud">
                                    <param id="0" name="Comparison">3</param>
                                    <param id="1" name="X co-ordinate">-Self.Width / 2</param>
                                </condition>
                                <condition id="1" name="Compare at XY" sid="631947833606842" type="background_settings">
                                    <param id="0" name="X">heart - 1</param>
                                    <param id="1" name="Y">5</param>
                                    <param id="2" name="Comparison">0</param>
                                    <param id="3" name="Value">1</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-1" name="Set X" sid="490993229505051" type="cloud">
                                    <param id="0" name="X">Self.X + Self.Width / 2</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <comment></comment>
                <comment>Создание объектов: здания, враги</comment>
                <comment></comment>
                <event-block sid="951496908318096">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="855978434892328" type="System">
                            <param id="0" name="Variable">state_game</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;play&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <comment></comment>
                        <comment>После того, как CurretnDistance достигает NextBlock, настало время, чтобы создать новый блок. Он создается со случайными шириной и высотой, а затем помещается в непосредственной близости от правого края экрана. После этого происходит еще один переход налево, а затем генерируется NextBlock</comment>
                        <comment>сreating_building - генерация здания</comment>
                        <comment>creating_ordinary_coins - генерация монет. Параметр 0 - количество монет</comment>
                        <comment></comment>
                        <event-block sid="433522315040684">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="581389096769101" type="System">
                                    <param id="0" name="Variable">current_distance</param>
                                    <param id="1" name="Comparison">5</param>
                                    <param id="2" name="Value">next_block</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-11" name="Subtract from" sid="690691180264738" type="System">
                                    <param id="0" name="Variable">current_distance</param>
                                    <param id="1" name="Value">next_block</param>
                                </action>
                                <action id="0" name="Call function" sid="934699294370248" type="function">
                                    <param id="0" name="Name">&quot;creating_building&quot;</param>
                                    <param id="1" name="Parameter {n}"></param>
                                </action>
                            </actions>
                            <sub-events>
                                <comment>Монеты</comment>
                                <event-block sid="947873286586285">
                                    <conditions>
                                        <condition id="-6" name="Every X seconds" sid="342590223350871" type="System">
                                            <param id="0" name="Interval (seconds)">floor(random(1, 5))</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Call function" sid="991283517429459" type="function">
                                            <param id="0" name="Name">&quot;creating_ordinary_coins&quot;</param>
                                            <param id="1" name="Parameter {n}">ceil(random(2, 10))</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <comment>Воробьи</comment>
                                <event-block sid="108481568308386">
                                    <conditions>
                                        <condition id="-6" name="Every X seconds" sid="963986139459763" type="System">
                                            <param id="0" name="Interval (seconds)">floor(random(10, heart + 1))</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Call function" sid="814520897869106" type="function">
                                            <param id="0" name="Name">&quot;creating_sparrow&quot;</param>
                                            <param id="1" name="Parameter {n}"></param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <comment></comment>
                        <comment>Голубь</comment>
                        <comment></comment>
                        <comment>Каждые dt * (N * 60) секунд проверяем, нет ли на игровом поле ястребов и... </comment>
                        <event-block sid="235613424588854">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="699335762839078" type="System">
                                    <param id="0" name="Variable">round_distance</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Value">20</param>
                                </condition>
                                <condition id="-4" name="Trigger once while true" sid="247140729762243" type="System" />
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="562094089632134">
                                    <conditions>
                                        <condition id="-6" name="Every X seconds" sid="535108296687316" type="System">
                                            <param id="0" name="Interval (seconds)">2</param>
                                        </condition>
                                        <condition id="-4" name="Trigger once while true" sid="916981040202981" type="System" />
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <comment>равно ли число, случайно полученное из диапазона (1, количество жизней + 1) единице</comment>
                                        <comment>если истинно, тогда генерируем голубей</comment>
                                        <event-block sid="794393822063341">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="362497838694963" type="System">
                                                    <param id="0" name="First value">1</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Second value">floor(random(1,  heart + 1))</param>
                                                </condition>
                                                <condition disabled="1" id="-16" name="Is on layer" sid="429984181850287" type="hawk_base">
                                                    <param id="0" name="Layer">&quot;game&quot;</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Call function" sid="286413325917016" type="function">
                                                    <param id="0" name="Name">&quot;creating_dove&quot;</param>
                                                    <param id="1" name="Parameter {n}"></param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <comment></comment>
                        <comment>Ястреб</comment>
                        <comment></comment>
                        <comment>Каждые dt * (N * 60) секунд проверяем, нет ли на игровом поле ястребов и </comment>
                        <event-block sid="191804367156097">
                            <conditions>
                                <condition id="-14" name="Compare variable" sid="437282169289240" type="System">
                                    <param id="0" name="Variable">round_distance</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Value">30</param>
                                </condition>
                                <condition id="-4" name="Trigger once while true" sid="829887158706889" type="System" />
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="367845488581917">
                                    <conditions>
                                        <condition id="-6" name="Every X seconds" sid="703352579220565" type="System">
                                            <param id="0" name="Interval (seconds)">4</param>
                                        </condition>
                                        <condition id="-4" name="Trigger once while true" sid="464480489550117" type="System" />
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <comment>равно ли число, случайно полученное из диапазона (1, количество жизней + 1), единице</comment>
                                        <comment>если оба условия истинны, тогда создаем ястреба</comment>
                                        <event-block sid="524549248962316">
                                            <conditions>
                                                <condition id="-8" name="Compare two values" sid="450488225655818" type="System">
                                                    <param id="0" name="First value">1</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Second value">floor(random(1,  heart + 1))</param>
                                                </condition>
                                                <condition disabled="1" id="-16" name="Is on layer" sid="126715564201300" type="hawk_base">
                                                    <param id="0" name="Layer">&quot;game&quot;</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Call function" sid="517493844007745" type="function">
                                                    <param id="0" name="Name">&quot;creating_hawk&quot;</param>
                                                    <param id="1" name="Parameter {n}"></param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <comment></comment>
                        <comment></comment>
                        <comment>Уничтожение объектов, которые попали за пределы камеры</comment>
                        <comment></comment>
                        <event-block any="1" sid="168272677825211">
                            <conditions>
                                <condition id="-1" name="Compare X" sid="492119966740834" type="sparrow_base">
                                    <param id="0" name="Comparison">2</param>
                                    <param id="1" name="X co-ordinate">- self.Width</param>
                                </condition>
                                <condition id="-2" name="Compare Y" sid="523541241329366" type="sparrow_base">
                                    <param id="0" name="Comparison">4</param>
                                    <param id="1" name="Y co-ordinate">LayoutHeight + 100</param>
                                </condition>
                                <condition id="-2" name="Compare Y" sid="902335313761659" type="sparrow_base">
                                    <param id="0" name="Comparison">2</param>
                                    <param id="1" name="Y co-ordinate">LayoutHeight - LayoutHeight - 100</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="147866583507097" type="sparrow_base" />
                            </actions>
                        </event-block>
                        <comment></comment>
                        <event-block sid="726329419661625">
                            <conditions>
                                <condition id="-1" name="Compare X" sid="542992706504335" type="hawk_base">
                                    <param id="0" name="Comparison">2</param>
                                    <param id="1" name="X co-ordinate">- self.Width</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="858744267891680" type="hawk_base" />
                            </actions>
                        </event-block>
                        <comment></comment>
                        <event-block sid="768073401742121">
                            <conditions>
                                <condition id="-1" name="Compare X" sid="924904491266089" type="dove_base">
                                    <param id="0" name="Comparison">2</param>
                                    <param id="1" name="X co-ordinate">- self.Width</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="603097903463735" type="dove_base" />
                            </actions>
                        </event-block>
                        <comment></comment>
                        <comment>Уничтожение частей здания за пределами камеры</comment>
                        <comment></comment>
                        <event-block sid="119832710724756">
                            <conditions>
                                <condition id="-1" name="Compare X" sid="756046011042076" type="wall">
                                    <param id="0" name="Comparison">2</param>
                                    <param id="1" name="X co-ordinate">-Self.Width</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="259295486492114" type="wall" />
                            </actions>
                        </event-block>
                        <event-block sid="458270237586225">
                            <conditions>
                                <condition id="-1" name="Compare X" sid="216133839296201" type="roof_object_1">
                                    <param id="0" name="Comparison">2</param>
                                    <param id="1" name="X co-ordinate">-Self.Width</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="716803132907285" type="roof_object_1" />
                            </actions>
                        </event-block>
                        <event-block sid="372491062557259">
                            <conditions>
                                <condition id="-1" name="Compare X" sid="802774285065523" type="roof">
                                    <param id="0" name="Comparison">2</param>
                                    <param id="1" name="X co-ordinate">-Self.Width</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="393725495801352" type="roof" />
                            </actions>
                        </event-block>
                        <event-block sid="169134676448384">
                            <conditions>
                                <condition id="-1" name="Compare X" sid="512494118822341" type="windows">
                                    <param id="0" name="Comparison">2</param>
                                    <param id="1" name="X co-ordinate">-Self.Width</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="685087946603011" type="windows" />
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <comment></comment>
                <comment>Подсчет текущего и общего пройденного расстояния</comment>
                <comment></comment>
                <event-block sid="103725710372753">
                    <conditions>
                        <condition id="-1" name="Every tick" sid="252853501708068" type="System" />
                        <condition id="-7" name="Compare instance variable" sid="919025187979125" type="sf39">
                            <param id="0" name="Instance variable">class</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;distance&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-10" name="Add to" sid="331469169315265" type="System">
                            <param id="0" name="Variable">current_distance</param>
                            <param id="1" name="Value">wall.Bullet.Speed * dt</param>
                        </action>
                        <action id="-10" name="Add to" sid="450274969184783" type="System">
                            <param id="0" name="Variable">round_distance</param>
                            <param id="1" name="Value">wall.Bullet.Speed * dt / 100</param>
                        </action>
                        <action id="-10" name="Add to" sid="615362548565368" type="System">
                            <param id="0" name="Variable">total_distance_px</param>
                            <param id="1" name="Value">wall.Bullet.Speed * dt / 100</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
        <comment></comment>
        <event-group description="Interaction with the world" sid="636544645267077" title="Взаимодействие с миром">
            <sub-events>
                <comment></comment>
                <comment>Состояние игры &quot;play&quot;</comment>
                <comment></comment>
                <event-block sid="707717273837821">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="900651370267838" type="System">
                            <param id="0" name="Variable">state_game</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;play&quot;</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <comment>Состояние персонажа &quot;play&quot;. Нормальное состояние.</comment>
                        <comment></comment>
                        <event-group description='смена состояний врагов&#x0D;&#x0A;состояние персонажа - &quot;play&quot;' sid="273221594309483" title="взаимодействие персонажа с объектами игрового мира">
                            <sub-events>
                                <event-block sid="747832179046031">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="831129055496768" type="character_base">
                                            <param id="0" name="Instance variable">character_state</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;play&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <comment></comment>
                                        <comment>МОНЕТЫ</comment>
                                        <comment></comment>
                                        <event-block sid="570848753311944">
                                            <conditions>
                                                <condition id="1" name="Is overlapping another object" sid="160386573167433" type="character_base">
                                                    <param id="0" name="Object">coin_base</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="-10" name="Add to" sid="951262712021220" type="System">
                                                    <param id="0" name="Variable">coins_count</param>
                                                    <param id="1" name="Value">1</param>
                                                </action>
                                                <action id="-9" name="Destroy" sid="159757177343065" type="coin_base" />
                                            </actions>
                                            <sub-events>
                                                <event-block sid="163060037499138">
                                                    <conditions>
                                                        <condition id="-7" name="Compare instance variable" sid="402640489201068" type="sf76">
                                                            <param id="0" name="Instance variable">class</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Value">&quot;coins&quot;</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="0" name="Set text" sid="490211820685329" type="sf76">
                                                            <param id="0" name="Text">coins_count</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                            </sub-events>
                                        </event-block>
                                        <comment></comment>
                                        <comment>ВОРОБЬИ</comment>
                                        <comment>Фронтальное столкновение с воробьем</comment>
                                        <comment></comment>
                                        <event-block sid="671436719060226">
                                            <conditions>
                                                <condition id="9" name="Is overlapping at offset" sid="560510920625550" type="character_base">
                                                    <param id="0" name="Object">sparrow_base</param>
                                                    <param id="1" name="Offset X">3</param>
                                                    <param id="2" name="Offset Y">0</param>
                                                </condition>
                                                <condition behavior="Platform" id="4" inverted="1" name="Is falling" sid="131674956788309" type="character_base" />
                                                <condition id="-4" name="Trigger once while true" sid="546213679335334" type="System" />
                                            </conditions>
                                            <actions>
                                                <action id="-10" name="Set value" sid="627255597473701" type="sparrows">
                                                    <param id="0" name="Instance variable">state_sparrows</param>
                                                    <param id="1" name="Value">&quot;run&quot;</param>
                                                </action>
                                                <action id="0" name="Call function" sid="970772546796369" type="function">
                                                    <param id="0" name="Name">&quot;fall&quot;</param>
                                                    <param id="1" name="Parameter {n}"></param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <comment></comment>
                                        <comment>Падение на воробья сверху</comment>
                                        <comment></comment>
                                        <event-block sid="321512168813896">
                                            <conditions>
                                                <condition id="1" name="Is overlapping another object" sid="561599152911594" type="character_base">
                                                    <param id="0" name="Object">sparrow_base</param>
                                                </condition>
                                                <condition behavior="Platform" id="4" name="Is falling" sid="934496252007220" type="character_base" />
                                                <condition id="-4" name="Trigger once while true" sid="426184144922741" type="System" />
                                            </conditions>
                                            <actions>
                                                <action behavior="Platform" id="9" name="Set vector Y" sid="508104826967952" type="character_base">
                                                    <param id="0" name="Vector Y">character_base.height_of_halfjump</param>
                                                </action>
                                                <action id="-10" name="Set value" sid="859510727123143" type="sparrows">
                                                    <param id="0" name="Instance variable">state_sparrows</param>
                                                    <param id="1" name="Value">&quot;run&quot;</param>
                                                </action>
                                                <action id="-10" name="Set value" sid="621520450632338" type="sparrow_base">
                                                    <param id="0" name="Instance variable">state_sparrows</param>
                                                    <param id="1" name="Value">&quot;fall&quot;</param>
                                                </action>
                                                <action id="-10" name="Set value" sid="174170781754814" type="sparrow_base">
                                                    <param id="0" name="Instance variable">dead_enemies</param>
                                                    <param id="1" name="Value">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <comment></comment>
                                        <comment>ЯСТРЕБ</comment>
                                        <comment>Столкновение с ястребом. Персонаж меняет состояние на &quot;hawk&quot;, т.е. попал в когти к ястребу</comment>
                                        <comment></comment>
                                        <event-block sid="194971992752333">
                                            <conditions>
                                                <condition id="1" name="Is overlapping another object" sid="670800983825969" type="character_base">
                                                    <param id="0" name="Object">hawk_base</param>
                                                </condition>
                                                <condition behavior="Platform" id="4" inverted="1" name="Is falling" sid="720484125420409" type="character_base" />
                                            </conditions>
                                            <actions>
                                                <action id="-10" name="Set value" sid="514954277106149" type="character_base">
                                                    <param id="0" name="Instance variable">character_state</param>
                                                    <param id="1" name="Value">&quot;hawk&quot;</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <comment></comment>
                                        <comment>Падение на ястреба сверху</comment>
                                        <comment></comment>
                                        <event-block sid="112956179274220">
                                            <conditions>
                                                <condition id="1" name="Is overlapping another object" sid="442926653548214" type="character_base">
                                                    <param id="0" name="Object">hawk_base</param>
                                                </condition>
                                                <condition behavior="Platform" id="4" name="Is falling" sid="294649437889432" type="character_base" />
                                                <condition id="-4" name="Trigger once while true" sid="201948169465920" type="System" />
                                            </conditions>
                                            <actions>
                                                <action behavior="Platform" id="9" name="Set vector Y" sid="360676669782786" type="character_base">
                                                    <param id="0" name="Vector Y">character_base.height_of_halfjump</param>
                                                </action>
                                                <action id="11" name="Set collisions enabled" sid="129925039192969" type="hawk_base">
                                                    <param id="0" name="Collisions">0</param>
                                                </action>
                                                <action id="-10" name="Set value" sid="239200567958854" type="hawk_base">
                                                    <param id="0" name="Instance variable">dead_enemies</param>
                                                    <param id="1" name="Value">1</param>
                                                </action>
                                                <action id="-10" name="Set value" sid="197675613349196" type="hawk_base">
                                                    <param id="0" name="Instance variable">state_enemies</param>
                                                    <param id="1" name="Value">&quot;fall&quot;</param>
                                                </action>
                                                <action behavior="Bullet" id="3" name="Set angle of motion" sid="683903305654425" type="hawk_base">
                                                    <param id="0" name="Angle">choose(150, 160, 170)</param>
                                                </action>
                                                <action behavior="Bullet" id="0" name="Set speed" sid="599782766222892" type="hawk_base">
                                                    <param id="0" name="Speed">600</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <comment></comment>
                                        <comment>ГОЛУБЬ</comment>
                                        <comment>Столкновение с голубем</comment>
                                        <comment></comment>
                                        <event-block sid="339810244988423">
                                            <conditions>
                                                <condition id="9" name="Is overlapping at offset" sid="612311878937637" type="character_base">
                                                    <param id="0" name="Object">dove_base</param>
                                                    <param id="1" name="Offset X">3</param>
                                                    <param id="2" name="Offset Y">0</param>
                                                </condition>
                                                <condition behavior="Platform" id="4" inverted="1" name="Is falling" sid="693773799307988" type="character_base" />
                                                <condition id="-4" name="Trigger once while true" sid="157182646556339" type="System" />
                                            </conditions>
                                            <actions>
                                                <action id="-10" name="Set value" sid="934883637022455" type="doves">
                                                    <param id="0" name="Instance variable">state_doves</param>
                                                    <param id="1" name="Value">&quot;run&quot;</param>
                                                </action>
                                                <action id="0" name="Call function" sid="730312917017267" type="function">
                                                    <param id="0" name="Name">&quot;fall&quot;</param>
                                                    <param id="1" name="Parameter {n}"></param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <comment></comment>
                                        <comment>Падение на голубя сверху</comment>
                                        <comment>убитый голубь меняет состояние на fall, остальные на run</comment>
                                        <comment>персонаж делает полу-прыжок</comment>
                                        <event-block sid="797569516077978">
                                            <conditions>
                                                <condition id="1" name="Is overlapping another object" sid="634675489941824" type="character_base">
                                                    <param id="0" name="Object">dove_base</param>
                                                </condition>
                                                <condition behavior="Platform" id="4" name="Is falling" sid="208831657481507" type="character_base" />
                                                <condition id="-4" name="Trigger once while true" sid="818659175653190" type="System" />
                                            </conditions>
                                            <actions>
                                                <action behavior="Platform" id="9" name="Set vector Y" sid="536095784066521" type="character_base">
                                                    <param id="0" name="Vector Y">character_base.height_of_halfjump</param>
                                                </action>
                                                <action id="-10" name="Set value" sid="471410994265641" type="dove_base">
                                                    <param id="0" name="Instance variable">state_doves</param>
                                                    <param id="1" name="Value">&quot;fall&quot;</param>
                                                </action>
                                                <action id="-10" name="Set value" sid="913402949151232" type="dove_base">
                                                    <param id="0" name="Instance variable">dead_enemies</param>
                                                    <param id="1" name="Value">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <comment></comment>
                                        <comment>ОБЪЕКТЫ НА КРЫШЕ</comment>
                                        <comment>При фронтальном наезде персонажа на объект крыши - перезапуск</comment>
                                        <comment></comment>
                                        <event-block sid="489281471199608">
                                            <conditions>
                                                <condition id="9" name="Is overlapping at offset" sid="905197322606936" type="character_base">
                                                    <param id="0" name="Object">roof_object_1</param>
                                                    <param id="1" name="Offset X">3</param>
                                                    <param id="2" name="Offset Y">0</param>
                                                </condition>
                                                <condition id="-4" name="Trigger once while true" sid="524849835422929" type="System" />
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Call function" sid="475062720501223" type="function">
                                                    <param id="0" name="Name">&quot;fall&quot;</param>
                                                    <param id="1" name="Parameter {n}"></param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <comment></comment>
                                        <comment></comment>
                                        <event-group description="" sid="862882500835290" title="прыжок, двойной прыжок">
                                            <sub-events>
                                                <comment></comment>
                                                <comment>Если персонаж находится на земле, то сбрасываем состояние double_jump до 0 (перезаряжаем способность двойного прыжка)</comment>
                                                <comment></comment>
                                                <event-block sid="249950025522123">
                                                    <conditions>
                                                        <condition behavior="Platform" id="2" name="Is on floor" sid="698429965958049" type="character_base" />
                                                        <condition id="-4" name="Trigger once while true" sid="918115997227333" type="System" />
                                                    </conditions>
                                                    <actions>
                                                        <action id="-10" name="Set value" sid="337847412321328" type="character_base">
                                                            <param id="0" name="Instance variable">double_jump_state</param>
                                                            <param id="1" name="Value">0</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                                <comment>Если было нажатие и не на кнопку</comment>
                                                <event-block sid="888772960755859">
                                                    <conditions>
                                                        <condition id="14" name="On tap" sid="265317202168266" type="Touch" />
                                                        <condition id="4" inverted="1" name="Is touching object" sid="444801819150711" type="Touch">
                                                            <param id="0" name="Object">buttons</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions />
                                                    <sub-events>
                                                        <comment>Если персонаж в воздухе и способность двойного прыжка доступна и двойной прыжок еще не использовался (заряжен), тогда подбрасываем персонажа и меняем состояние double_jump в 0 (способность уходит на перезаряд)</comment>
                                                        <event-block sid="906772569350797">
                                                            <conditions>
                                                                <condition behavior="Platform" id="2" inverted="1" name="Is on floor" sid="503032764679663" type="character_base" />
                                                                <condition id="-7" name="Compare instance variable" sid="419014458110049" type="variables">
                                                                    <param id="0" name="Instance variable">double_jump</param>
                                                                    <param id="1" name="Comparison">0</param>
                                                                    <param id="2" name="Value">1</param>
                                                                </condition>
                                                                <condition id="-7" name="Compare instance variable" sid="955347308993609" type="character_base">
                                                                    <param id="0" name="Instance variable">double_jump_state</param>
                                                                    <param id="1" name="Comparison">0</param>
                                                                    <param id="2" name="Value">1</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions>
                                                                <action behavior="Platform" id="9" name="Set vector Y" sid="467577213253128" type="character_base">
                                                                    <param id="0" name="Vector Y">-800</param>
                                                                </action>
                                                                <action id="-10" name="Set value" sid="554766374112237" type="character_base">
                                                                    <param id="0" name="Instance variable">double_jump_state</param>
                                                                    <param id="1" name="Value">0</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                        <comment>Иначе обычный прыжок, и включаем доступность двойного прыжка: double_jump = 1</comment>
                                                        <event-block sid="494350804999383">
                                                            <conditions>
                                                                <condition behavior="Platform" id="2" name="Is on floor" sid="476853426279161" type="character_base" />
                                                                <condition id="-7" name="Compare instance variable" sid="400661601887481" type="character_base">
                                                                    <param id="0" name="Instance variable">double_jump_state</param>
                                                                    <param id="1" name="Comparison">0</param>
                                                                    <param id="2" name="Value">0</param>
                                                                </condition>
                                                            </conditions>
                                                            <actions>
                                                                <action behavior="Platform" id="7" name="Simulate control" sid="704947088084542" type="character_base">
                                                                    <param id="0" name="Control">2</param>
                                                                </action>
                                                                <action id="-10" name="Set value" sid="659053956208219" type="character_base">
                                                                    <param id="0" name="Instance variable">double_jump_state</param>
                                                                    <param id="1" name="Value">1</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                    </sub-events>
                                                </event-block>
                                            </sub-events>
                                        </event-group>
                                        <comment></comment>
                                        <event-group description="Боевое мяу&#x0D;&#x0A;обработка нажатия&#x0D;&#x0A;смена состояний врагов&#x0D;&#x0A;перезарядка способности" sid="615022820353846" title="боевое мяу">
                                            <sub-events>
                                                <comment></comment>
                                                <comment>Если нажата F и способность боевого мяу доступна на этом уровне и способность перезаряжена, тогда создадим перед персонажем спрайт и отправим способность на перезарядку на N секунд (6 секунд)</comment>
                                                <event-block sid="391938096818808">
                                                    <conditions>
                                                        <condition id="0" name="On key pressed" sid="197017912672037" type="Keyboard">
                                                            <param id="0" name="Key">70</param>
                                                        </condition>
                                                        <condition id="-7" name="Compare instance variable" sid="633300341089014" type="variables">
                                                            <param id="0" name="Instance variable">battle_meow</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Value">1</param>
                                                        </condition>
                                                        <condition id="-7" name="Compare instance variable" sid="875866461010129" type="character_base">
                                                            <param id="0" name="Instance variable">battle_meow_state</param>
                                                            <param id="1" name="Comparison">0</param>
                                                            <param id="2" name="Value">1</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="0" name="Spawn another object" sid="767606705855568" type="character_base">
                                                            <param id="0" name="Object">battle_meow_area</param>
                                                            <param id="1" name="Layer">&quot;game&quot;</param>
                                                            <param id="2" name="Image point">4</param>
                                                        </action>
                                                        <action id="-10" name="Set value" sid="520924744672771" type="character_base">
                                                            <param id="0" name="Instance variable">battle_meow_state</param>
                                                            <param id="1" name="Value">3</param>
                                                        </action>
                                                    </actions>
                                                    <sub-events>
                                                        <comment>Если живой член семьи enemies столкнулся с областью бевого мяу (при этом прозрачность области более 90%), тогда он (враг) меняет статус на &quot;battle_meow_panic&quot;</comment>
                                                        <event-block sid="898879133157624">
                                                            <conditions>
                                                                <condition id="1" name="Is overlapping another object" sid="868279771282638" type="battle_meow_area">
                                                                    <param id="0" name="Object">enemies</param>
                                                                </condition>
                                                                <condition id="-10" name="Compare opacity" sid="268141688623854" type="battle_meow_area">
                                                                    <param id="0" name="Comparison">4</param>
                                                                    <param id="1" name="Opacity">95</param>
                                                                </condition>
                                                                <condition id="-7" name="Compare instance variable" sid="475612659578011" type="enemies">
                                                                    <param id="0" name="Instance variable">dead_enemies</param>
                                                                    <param id="1" name="Comparison">0</param>
                                                                    <param id="2" name="Value">0</param>
                                                                </condition>
                                                                <condition id="-4" name="Trigger once while true" sid="689349124452694" type="System" />
                                                            </conditions>
                                                            <actions>
                                                                <action id="-10" name="Set value" sid="652666707407117" type="enemies">
                                                                    <param id="0" name="Instance variable">state_enemies</param>
                                                                    <param id="1" name="Value">&quot;battle_meow_panic&quot;</param>
                                                                </action>
                                                            </actions>
                                                        </event-block>
                                                    </sub-events>
                                                </event-block>
                                                <comment></comment>
                                                <comment>Перезарядка боевого мяу</comment>
                                                <event-block sid="305721611175071">
                                                    <conditions>
                                                        <condition id="-7" name="Compare instance variable" sid="162371546598167" type="character_base">
                                                            <param id="0" name="Instance variable">battle_meow_state</param>
                                                            <param id="1" name="Comparison">4</param>
                                                            <param id="2" name="Value">1</param>
                                                        </condition>
                                                        <condition id="-23" name="While" sid="854275180578203" type="System" />
                                                        <condition id="-6" name="Every X seconds" sid="483698308016356" type="System">
                                                            <param id="0" name="Interval (seconds)">dt * 60</param>
                                                        </condition>
                                                    </conditions>
                                                    <actions>
                                                        <action id="-12" name="Subtract from" sid="984966502297268" type="character_base">
                                                            <param id="0" name="Instance variable">battle_meow_state</param>
                                                            <param id="1" name="Value">1</param>
                                                        </action>
                                                    </actions>
                                                </event-block>
                                            </sub-events>
                                        </event-group>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-group>
                        <comment></comment>
                        <event-group description='состояние персонажа - &quot;hawk&quot;' sid="342272462621873" title="персонаж в когтях ястреба">
                            <sub-events>
                                <comment></comment>
                                <comment>Состояние персонажа &quot;hawk&quot;. Персонаж попал в когти ястреба</comment>
                                <comment></comment>
                                <event-block sid="437852301069164">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="199940703129954" type="character_base">
                                            <param id="0" name="Instance variable">character_state</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;hawk&quot;</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="4" name="Set animation" sid="240428881037521" type="character">
                                            <param id="0" name="Animation">&quot;fall&quot;</param>
                                            <param id="1" name="From">0</param>
                                        </action>
                                        <action id="6" name="Set speed" sid="215040897826463" type="character">
                                            <param id="0" name="Speed">0</param>
                                        </action>
                                        <action id="5" name="Set frame" sid="305271657863410" type="character">
                                            <param id="0" name="Frame number">3</param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <event-block sid="430843000641442">
                                            <conditions>
                                                <condition id="-7" name="Compare instance variable" sid="729813009536917" type="hawk_base">
                                                    <param id="0" name="Instance variable">state_enemies</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">&quot;action&quot;</param>
                                                </condition>
                                                <condition id="-1" name="Every tick" sid="846673677581093" type="System" />
                                            </conditions>
                                            <actions>
                                                <action id="-4" name="Set position to another object" sid="316232063753144" type="character_base">
                                                    <param id="0" name="Object">hawk_base</param>
                                                    <param id="1" name="Image point (optional)">1</param>
                                                </action>
                                                <action id="-8" name="Set angle" sid="200882913699050" type="character_base">
                                                    <param id="0" name="Angle">hawk_base.Angle</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-group>
                        <comment></comment>
                        <event-group description='поведение врагов находящихся в состоянии паники от боевого мяу - &quot;battle_meow_panic&quot;' sid="509759737102155" title="поведение врагов в состоянии battle_meow_panic">
                            <sub-events>
                                <comment></comment>
                                <comment>Каждые 0.5 секунд случайным образом корректируем угол полета</comment>
                                <comment></comment>
                                <event-block sid="413621655780298">
                                    <conditions>
                                        <condition id="-11" name="For Each" sid="109233617462543" type="System">
                                            <param id="0" name="Object">enemies</param>
                                        </condition>
                                        <condition id="-7" name="Compare instance variable" sid="583992060390282" type="enemies">
                                            <param id="0" name="Instance variable">state_enemies</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;battle_meow_panic&quot;</param>
                                        </condition>
                                        <condition id="-7" name="Compare instance variable" sid="715009420184270" type="enemies">
                                            <param id="0" name="Instance variable">dead_enemies</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">1</param>
                                        </condition>
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="658098192858218">
                                            <conditions>
                                                <condition id="-6" name="Every X seconds" sid="150984137816359" type="System">
                                                    <param id="0" name="Interval (seconds)">dt * 30</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action behavior="Bullet2" id="3" name="Set angle of motion" sid="112572020174850" type="enemies">
                                                    <param id="0" name="Angle">enemies.Bullet2.AngleOfMotion + (choose(10, -10))</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <comment></comment>
                            </sub-events>
                        </event-group>
                        <comment></comment>
                        <event-group description="состояние игры - play" sid="571792244833093" title="поведение воробьев">
                            <sub-events>
                                <comment></comment>
                                <comment>Если группа воробьев сменила состояние на &quot;run&quot;, т.е. бегство от персонажа</comment>
                                <comment></comment>
                                <event-block sid="134220316029974">
                                    <conditions>
                                        <condition id="-11" name="For Each" sid="545259151677817" type="System">
                                            <param id="0" name="Object">sparrows</param>
                                        </condition>
                                        <condition id="-7" name="Compare instance variable" sid="333857848424641" type="sparrows">
                                            <param id="0" name="Instance variable">state_sparrows</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;run&quot;</param>
                                        </condition>
                                        <condition id="-4" name="Trigger once while true" sid="690453559155382" type="System" />
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="629727003782679">
                                            <conditions />
                                            <actions>
                                                <action id="4" name="Set animation" sid="779361682499349" type="sparrows">
                                                    <param id="0" name="Animation">&quot;fly&quot;</param>
                                                    <param id="1" name="From">1</param>
                                                </action>
                                                <action id="11" name="Set collisions enabled" sid="319546047928755" type="sparrows">
                                                    <param id="0" name="Collisions">0</param>
                                                </action>
                                                <action behavior="Platform" id="9" name="Set vector Y" sid="616686243771276" type="sparrows">
                                                    <param id="0" name="Vector Y">choose(-1000, -900, -800, -500, -300, -100)</param>
                                                </action>
                                                <action behavior="Platform" id="8" name="Set vector X" sid="710555042792339" type="sparrows">
                                                    <param id="0" name="Vector X">choose(150, 300, 450, 600, 750, 900)</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <comment></comment>
                                <comment>на воробья упал персонаж - fall</comment>
                                <comment></comment>
                                <event-block sid="433590119858780">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="759728627510382" type="sparrow_base">
                                            <param id="0" name="Instance variable">state_sparrows</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;fall&quot;</param>
                                        </condition>
                                        <condition id="-4" name="Trigger once while true" sid="248987195363800" type="System" />
                                    </conditions>
                                    <actions>
                                        <action behavior="Platform" id="9" name="Set vector Y" sid="614115039145152" type="sparrow_base">
                                            <param id="0" name="Vector Y">- 250</param>
                                        </action>
                                        <action behavior="Platform" id="8" name="Set vector X" sid="237493947040972" type="sparrow_base">
                                            <param id="0" name="Vector X">200</param>
                                        </action>
                                        <action id="11" name="Set collisions enabled" sid="114046739198504" type="sparrow_base">
                                            <param id="0" name="Collisions">0</param>
                                        </action>
                                        <action id="4" name="Set animation" sid="557526860803611" type="sparrow_base">
                                            <param id="0" name="Animation">&quot;fall&quot;</param>
                                            <param id="1" name="From">1</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <comment></comment>
                                <comment>поведение в состоянии battle_meow_panic</comment>
                                <comment></comment>
                                <event-block sid="963355271575663">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="685297220192317" type="sparrow_base">
                                            <param id="0" name="Instance variable">state_enemies</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;battle_meow_panic&quot;</param>
                                        </condition>
                                        <condition id="-7" name="Compare instance variable" sid="716683696754870" type="sparrow_base">
                                            <param id="0" name="Instance variable">dead_enemies</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">0</param>
                                        </condition>
                                        <condition id="-4" name="Trigger once while true" sid="862636209175529" type="System" />
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="403200984191423">
                                            <conditions />
                                            <actions>
                                                <action id="-10" name="Set value" sid="340544593040640" type="sparrow_base">
                                                    <param id="0" name="Instance variable">dead_enemies</param>
                                                    <param id="1" name="Value">1</param>
                                                </action>
                                                <action id="11" name="Set collisions enabled" sid="970529042758481" type="sparrow_base">
                                                    <param id="0" name="Collisions">0</param>
                                                </action>
                                                <action behavior="Bullet2" id="5" name="Set enabled" sid="391733817334322" type="sparrow_base">
                                                    <param id="0" name="State">1</param>
                                                </action>
                                                <action behavior="Bullet2" id="3" name="Set angle of motion" sid="115366947246238" type="sparrow_base">
                                                    <param id="0" name="Angle">choose(270, 280, 290, 300, 310, 320, 340, 360, 10, 20, 30, 40)</param>
                                                </action>
                                                <action id="4" name="Set animation" sid="510120589207855" type="sparrow_base">
                                                    <param id="0" name="Animation">&quot;fly&quot;</param>
                                                    <param id="1" name="From">1</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-group>
                        <comment></comment>
                        <event-group description="состояние игры - play" sid="431749936213828" title="поведение голубей">
                            <sub-events>
                                <comment></comment>
                                <comment>Если семья голубей сменила состояние на &quot;run&quot;, т.е. бегство от персонажа</comment>
                                <comment></comment>
                                <event-block sid="385109325230560">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="384383192637199" type="doves">
                                            <param id="0" name="Instance variable">state_doves</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;run&quot;</param>
                                        </condition>
                                        <condition id="-11" name="For Each" sid="184541826813897" type="System">
                                            <param id="0" name="Object">doves</param>
                                        </condition>
                                        <condition id="-4" name="Trigger once while true" sid="366193005579788" type="System" />
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <comment>живые разлетаются не нанося вреда персонажу</comment>
                                        <event-block sid="219375186713926">
                                            <conditions />
                                            <actions>
                                                <action id="11" name="Set collisions enabled" sid="844527891499134" type="doves">
                                                    <param id="0" name="Collisions">0</param>
                                                </action>
                                                <action behavior="Bullet" id="3" name="Set angle of motion" sid="691262481035413" type="doves">
                                                    <param id="0" name="Angle">choose(290, 300, 320)</param>
                                                </action>
                                                <action behavior="Bullet" id="0" name="Set speed" sid="776240490576508" type="doves">
                                                    <param id="0" name="Speed">700</param>
                                                </action>
                                                <action behavior="Sine" id="0" name="Set active" sid="861769436375975" type="doves">
                                                    <param id="0" name="State">0</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <comment></comment>
                                <comment>на голубя упал персонаж - fall</comment>
                                <comment>мертвый голубь падает вниз, не нанося вреда персонажу</comment>
                                <comment></comment>
                                <event-block sid="983472368328271">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="864296420292413" type="dove_base">
                                            <param id="0" name="Instance variable">state_doves</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;fall&quot;</param>
                                        </condition>
                                        <condition id="-4" name="Trigger once while true" sid="831887045094703" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="11" name="Set collisions enabled" sid="808019601136214" type="dove_base">
                                            <param id="0" name="Collisions">0</param>
                                        </action>
                                        <action behavior="Bullet" id="3" name="Set angle of motion" sid="141742678741599" type="dove_base">
                                            <param id="0" name="Angle">choose(120, 110, 100, 90, 80, 70)</param>
                                        </action>
                                        <action behavior="Sine" id="0" name="Set active" sid="638732579432023" type="dove_base">
                                            <param id="0" name="State">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <comment></comment>
                                <comment>поведение в состоянии battle_meow_panic</comment>
                                <comment></comment>
                                <event-block sid="858449743119840">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="578539074594027" type="dove_base">
                                            <param id="0" name="Instance variable">state_enemies</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;battle_meow_panic&quot;</param>
                                        </condition>
                                        <condition id="-7" name="Compare instance variable" sid="977785064644306" type="dove_base">
                                            <param id="0" name="Instance variable">dead_enemies</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">0</param>
                                        </condition>
                                        <condition id="-4" name="Trigger once while true" sid="102716616577166" type="System" />
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="424368519220242">
                                            <conditions />
                                            <actions>
                                                <action id="-10" name="Set value" sid="300377672588147" type="dove_base">
                                                    <param id="0" name="Instance variable">dead_enemies</param>
                                                    <param id="1" name="Value">1</param>
                                                </action>
                                                <action behavior="Bullet" id="5" name="Set enabled" sid="457012615224970" type="dove_base">
                                                    <param id="0" name="State">0</param>
                                                </action>
                                                <action id="11" name="Set collisions enabled" sid="354816227665884" type="dove_base">
                                                    <param id="0" name="Collisions">0</param>
                                                </action>
                                                <action behavior="Sine" id="0" name="Set active" sid="169010626030571" type="dove_base">
                                                    <param id="0" name="State">0</param>
                                                </action>
                                                <action behavior="Bullet2" id="5" name="Set enabled" sid="927850651716512" type="dove_base">
                                                    <param id="0" name="State">1</param>
                                                </action>
                                                <action behavior="Bullet2" id="3" name="Set angle of motion" sid="962205230991340" type="dove_base">
                                                    <param id="0" name="Angle">choose(270, 280, 290, 300, 310, 320, 340, 360, 10, 20, 30, 40)</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-group>
                        <comment></comment>
                        <event-group description="состояние игры - play" sid="756603745871712" title="поведение ястребов">
                            <sub-events>
                                <comment></comment>
                                <comment>поведение в состоянии &quot;action&quot;</comment>
                                <comment></comment>
                                <event-block sid="731900380948999">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="795585883118732" type="hawk_base">
                                            <param id="0" name="Instance variable">state_enemies</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;action&quot;</param>
                                        </condition>
                                        <condition id="-4" name="Trigger once while true" sid="540483216257206" type="System" />
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <comment></comment>
                                        <event-block sid="927965400189221">
                                            <conditions />
                                            <actions>
                                                <action behavior="Bullet" id="3" name="Set angle of motion" sid="694088978751378" type="hawk_base">
                                                    <param id="0" name="Angle">180</param>
                                                </action>
                                                <action behavior="Bullet" id="1" name="Set acceleration" sid="694075135772297" type="hawk_base">
                                                    <param id="0" name="Acceleration">100</param>
                                                </action>
                                                <action behavior="Bullet" id="0" name="Set speed" sid="955471801172691" type="hawk_base">
                                                    <param id="0" name="Speed">800</param>
                                                </action>
                                                <action id="-16" name="Wait" sid="250095065021528" type="System">
                                                    <param id="0" name="Seconds">0.5</param>
                                                </action>
                                                <action behavior="Bullet" id="0" name="Set speed" sid="423109882703354" type="hawk_base">
                                                    <param id="0" name="Speed">0</param>
                                                </action>
                                                <action id="-16" name="Wait" sid="287109493593524" type="System">
                                                    <param id="0" name="Seconds">1</param>
                                                </action>
                                                <action behavior="Bullet" id="1" name="Set acceleration" sid="392470957106547" type="hawk_base">
                                                    <param id="0" name="Acceleration">350</param>
                                                </action>
                                                <action behavior="Bullet" id="0" name="Set speed" sid="253329846113311" type="hawk_base">
                                                    <param id="0" name="Speed">1100</param>
                                                </action>
                                                <action behavior="Bullet" id="3" name="Set angle of motion" sid="881798836067097" type="hawk_base">
                                                    <param id="0" name="Angle">angle(hawk_base.X, hawk_base.Y, character_base.X, character_base.Y)</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                                <comment></comment>
                                <comment>поведение ястреба в состоянии паники от боевого мяу</comment>
                                <comment></comment>
                                <event-block sid="723022013542925">
                                    <conditions>
                                        <condition id="-7" name="Compare instance variable" sid="738349482857202" type="hawk_base">
                                            <param id="0" name="Instance variable">state_enemies</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">&quot;battle_meow_panic&quot;</param>
                                        </condition>
                                        <condition id="-7" name="Compare instance variable" sid="848674215849013" type="hawk_base">
                                            <param id="0" name="Instance variable">dead_enemies</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">0</param>
                                        </condition>
                                        <condition id="-4" name="Trigger once while true" sid="228139489068898" type="System" />
                                    </conditions>
                                    <actions />
                                    <sub-events>
                                        <event-block sid="238463762026090">
                                            <conditions />
                                            <actions>
                                                <action id="-10" name="Set value" sid="499123753393134" type="hawk_base">
                                                    <param id="0" name="Instance variable">dead_enemies</param>
                                                    <param id="1" name="Value">1</param>
                                                </action>
                                                <action behavior="Bullet" id="5" name="Set enabled" sid="793524603873924" type="hawk_base">
                                                    <param id="0" name="State">0</param>
                                                </action>
                                                <action id="11" name="Set collisions enabled" sid="912924211260990" type="hawk_base">
                                                    <param id="0" name="Collisions">0</param>
                                                </action>
                                                <action behavior="Bullet2" id="5" name="Set enabled" sid="976775855691660" type="hawk_base">
                                                    <param id="0" name="State">1</param>
                                                </action>
                                                <action behavior="Bullet2" id="3" name="Set angle of motion" sid="875966694722591" type="hawk_base">
                                                    <param id="0" name="Angle">choose(270, 280, 290, 300, 310, 320, 340, 360, 10, 20, 30, 40)</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-group>
                        <comment></comment>
                        <event-group description="" sid="431389446953772" title="персонаж падает за пределы экрана">
                            <sub-events>
                                <comment>ПАДЕНИЕ ЗА КРАЙ УРОВНЯ</comment>
                                <comment>Если игрок падает за край экрана - перезапуск уровня</comment>
                                <comment></comment>
                                <event-block sid="421444298658314">
                                    <conditions>
                                        <condition id="-2" name="Compare Y" sid="271334042264426" type="character_base">
                                            <param id="0" name="Comparison">4</param>
                                            <param id="1" name="Y co-ordinate">LayoutHeight + 200</param>
                                        </condition>
                                        <condition id="-4" name="Trigger once while true" sid="301878547394820" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Call function" sid="498344628374162" type="function">
                                            <param id="0" name="Name">&quot;restart&quot;</param>
                                            <param id="1" name="Parameter {n}"></param>
                                        </action>
                                    </actions>
                                </event-block>
                                <comment></comment>
                                <event-block sid="820831681456882">
                                    <conditions>
                                        <condition id="-1" name="Compare X" sid="370960037835468" type="character_base">
                                            <param id="0" name="Comparison">2</param>
                                            <param id="1" name="X co-ordinate">- self.Width</param>
                                        </condition>
                                        <condition id="-4" name="Trigger once while true" sid="385037481612729" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="-16" name="Wait" sid="698696359789711" type="System">
                                            <param id="0" name="Seconds">0.3</param>
                                        </action>
                                        <action id="0" name="Call function" sid="116944035777297" type="function">
                                            <param id="0" name="Name">&quot;restart&quot;</param>
                                            <param id="1" name="Parameter {n}"></param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-group>
                        <comment></comment>
                        <comment>корреция позиции персонажа после прыжка</comment>
                        <comment>Due to the acceleration of the platform movement, we need to do some tweaks to make sure the player doesn&apos;t gradually get pushed off to the left of the screen over time.</comment>
                        <comment></comment>
                        <event-block sid="927941515355038">
                            <conditions>
                                <condition id="-1" name="Compare X" sid="454795228087765" type="character_base">
                                    <param id="0" name="Comparison">2</param>
                                    <param id="1" name="X co-ordinate">105</param>
                                </condition>
                                <condition behavior="Platform" id="2" inverted="1" name="Is on floor" sid="229015887287269" type="character_base" />
                            </conditions>
                            <actions>
                                <action id="-1" name="Set X" sid="952053028166552" type="character_base">
                                    <param id="0" name="X">Self.X + 5 * dt</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="174940376734286">
                            <conditions>
                                <condition behavior="Platform" id="9" name="On landed" sid="750018162183040" type="character_base" />
                                <condition id="-14" name="Compare variable" sid="839025737517234" type="System">
                                    <param id="0" name="Variable">state_game</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;play&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-1" name="Set X" sid="573356679096044" type="character_base">
                                    <param id="0" name="X">Self.X + 1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-block>
                <comment></comment>
                <event-group description="" sid="702142814363806" title="функции">
                    <sub-events>
                        <comment></comment>
                        <comment>Перезапуск (restart)</comment>
                        <event-block sid="306060119246638">
                            <conditions>
                                <condition id="0" name="On function" sid="814389028547452" type="function">
                                    <param id="0" name="Name">&quot;restart&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Set value" sid="285464574041731" type="System">
                                    <param id="0" name="Variable">current_distance</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                                <action id="-9" name="Set value" sid="793613401366121" type="System">
                                    <param id="0" name="Variable">next_block</param>
                                    <param id="1" name="Value">550</param>
                                </action>
                                <action id="-9" name="Set value" sid="745982762933850" type="System">
                                    <param id="0" name="Variable">heart</param>
                                    <param id="1" name="Value">heart-1</param>
                                </action>
                                <action id="-9" name="Set value" sid="270274379517071" type="System">
                                    <param id="0" name="Variable">total_distance</param>
                                    <param id="1" name="Value">total_distance + round(round_distance)</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="186687737360740">
                                    <conditions>
                                        <condition id="-14" name="Compare variable" sid="960641976840384" type="System">
                                            <param id="0" name="Variable">heart</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">0</param>
                                        </condition>
                                        <condition id="-14" name="Compare variable" sid="882539435237541" type="System">
                                            <param id="0" name="Variable">total_distance</param>
                                            <param id="1" name="Comparison">4</param>
                                            <param id="2" name="Value">total_distance_record</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Set item" sid="845646124279927" type="LocalStorage">
                                            <param id="0" name="Key">&quot;total_distance_record&quot;</param>
                                            <param id="1" name="Value">total_distance</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="345161652883369">
                                    <conditions />
                                    <actions>
                                        <action id="-9" name="Set value" sid="702107008666773" type="System">
                                            <param id="0" name="Variable">round_distance</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                        <action id="0" name="Set item" sid="447370512159318" type="LocalStorage">
                                            <param id="0" name="Key">&quot;total_distance&quot;</param>
                                            <param id="1" name="Value">total_distance</param>
                                        </action>
                                        <action id="0" name="Set item" sid="585661492523858" type="LocalStorage">
                                            <param id="0" name="Key">&quot;coins&quot;</param>
                                            <param id="1" name="Value">coins_count</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="609059823708049">
                                    <conditions>
                                        <condition id="-14" name="Compare variable" sid="922941918240319" type="System">
                                            <param id="0" name="Variable">heart</param>
                                            <param id="1" name="Comparison">0</param>
                                            <param id="2" name="Value">0</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="796213452962764" type="System">
                                            <param id="0" name="Variable">state_game</param>
                                            <param id="1" name="Value">&quot;menu&quot;</param>
                                        </action>
                                        <action id="-9" name="Set value" sid="793975925076288" type="System">
                                            <param id="0" name="Variable">heart</param>
                                            <param id="1" name="Value">9</param>
                                        </action>
                                        <action id="0" name="Set item" sid="537065845127114" type="LocalStorage">
                                            <param id="0" name="Key">&quot;heart&quot;</param>
                                            <param id="1" name="Value">heart</param>
                                        </action>
                                        <action id="0" name="Set item" sid="211233175195944" type="LocalStorage">
                                            <param id="0" name="Key">&quot;state_game&quot;</param>
                                            <param id="1" name="Value">state_game</param>
                                        </action>
                                        <action id="0" name="Call function" sid="540069891255521" type="function">
                                            <param id="0" name="Name">&quot;set_transition_state&quot;</param>
                                            <param id="1" name="Parameter {n}">&quot;on&quot;</param>
                                        </action>
                                        <action id="-16" name="Wait" sid="538413635532700" type="System">
                                            <param id="0" name="Seconds">1</param>
                                        </action>
                                        <action id="-2" name="Go to layout" sid="463939901015759" type="System">
                                            <param id="0" name="Layout">end_game</param>
                                        </action>
                                    </actions>
                                </event-block>
                                <event-block sid="672077883819630">
                                    <conditions>
                                        <condition id="-22" name="Else" sid="395438627178311" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="-9" name="Set value" sid="698493362782327" type="System">
                                            <param id="0" name="Variable">state_game</param>
                                            <param id="1" name="Value">&quot;change&quot;</param>
                                        </action>
                                        <action id="0" name="Set item" sid="486060305690299" type="LocalStorage">
                                            <param id="0" name="Key">&quot;heart&quot;</param>
                                            <param id="1" name="Value">heart</param>
                                        </action>
                                        <action id="0" name="Set item" sid="615124647109889" type="LocalStorage">
                                            <param id="0" name="Key">&quot;state_game&quot;</param>
                                            <param id="1" name="Value">state_game</param>
                                        </action>
                                    </actions>
                                    <sub-events>
                                        <event-block sid="422467048531608">
                                            <conditions>
                                                <condition id="-14" name="Compare variable" sid="465617884709929" type="System">
                                                    <param id="0" name="Variable">first_start</param>
                                                    <param id="1" name="Comparison">0</param>
                                                    <param id="2" name="Value">1</param>
                                                </condition>
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Call function" sid="632786804031892" type="function">
                                                    <param id="0" name="Name">&quot;set_transition_state&quot;</param>
                                                    <param id="1" name="Parameter {n}">&quot;on&quot;</param>
                                                </action>
                                                <action id="-16" name="Wait" sid="868740446453468" type="System">
                                                    <param id="0" name="Seconds">1</param>
                                                </action>
                                                <action id="-2" name="Go to layout" sid="744944420213516" type="System">
                                                    <param id="0" name="Layout">game_over_first</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                        <event-block sid="945520794785882">
                                            <conditions>
                                                <condition id="-22" name="Else" sid="348558143809040" type="System" />
                                            </conditions>
                                            <actions>
                                                <action id="0" name="Call function" sid="164977987508147" type="function">
                                                    <param id="0" name="Name">&quot;set_transition_state&quot;</param>
                                                    <param id="1" name="Parameter {n}">&quot;on&quot;</param>
                                                </action>
                                                <action id="-16" name="Wait" sid="946863229796041" type="System">
                                                    <param id="0" name="Seconds">1</param>
                                                </action>
                                                <action id="-2" name="Go to layout" sid="637757376077280" type="System">
                                                    <param id="0" name="Layout">change_save</param>
                                                </action>
                                            </actions>
                                        </event-block>
                                    </sub-events>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <comment></comment>
                        <comment>Обработка падения при столкновении с препятствием</comment>
                        <comment></comment>
                        <event-block sid="790045388675508">
                            <conditions>
                                <condition id="0" name="On function" sid="437441571406894" type="function">
                                    <param id="0" name="Name">&quot;fall&quot;</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="726941405796725">
                                    <conditions />
                                    <actions>
                                        <action id="-10" name="Set value" sid="695294677903585" type="character_base">
                                            <param id="0" name="Instance variable">character_state</param>
                                            <param id="1" name="Value">&quot;fall&quot;</param>
                                        </action>
                                        <action id="0" name="Call function" sid="784252614449918" type="function">
                                            <param id="0" name="Name">&quot;boom&quot;</param>
                                            <param id="1" name="Parameter {n}"></param>
                                        </action>
                                        <action id="-12" name="Set group active" sid="879084371139375" type="System">
                                            <param id="0" name="Group name">&quot;Visualization of a jump&quot;</param>
                                            <param id="1" name="State">0</param>
                                        </action>
                                        <action id="11" name="Set collisions enabled" sid="795948517029584" type="character_base">
                                            <param id="0" name="Collisions">0</param>
                                        </action>
                                        <action behavior="Platform" id="7" name="Simulate control" sid="186726037811221" type="character_base">
                                            <param id="0" name="Control">2</param>
                                        </action>
                                        <action id="4" name="Set animation" sid="643795056572408" type="character">
                                            <param id="0" name="Animation">&quot;fall&quot;</param>
                                            <param id="1" name="From">1</param>
                                        </action>
                                        <action behavior="Platform" id="9" name="Set vector Y" sid="232153915940835" type="character_base">
                                            <param id="0" name="Vector Y">-150</param>
                                        </action>
                                        <action behavior="Platform" id="2" name="Set acceleration" sid="982375037493115" type="character_base">
                                            <param id="0" name="Acceleration">2000</param>
                                        </action>
                                        <action behavior="Platform" id="3" name="Set deceleration" sid="803974368088123" type="character_base">
                                            <param id="0" name="Deceleration">200</param>
                                        </action>
                                        <action behavior="Platform" id="8" name="Set vector X" sid="829813072073824" type="character_base">
                                            <param id="0" name="Vector X">150</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <comment></comment>
                        <comment>Вызов анимации столкновения</comment>
                        <comment></comment>
                        <event-block sid="411794226411674">
                            <conditions>
                                <condition id="0" name="On function" sid="384435910991944" type="function">
                                    <param id="0" name="Name">&quot;boom&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Spawn another object" sid="753177672825640" type="character_base">
                                    <param id="0" name="Object">explosion_splash</param>
                                    <param id="1" name="Layer">&quot;objects&quot;</param>
                                    <param id="2" name="Image point">5</param>
                                </action>
                            </actions>
                            <sub-events>
                                <event-block sid="377025102468377">
                                    <conditions>
                                        <condition id="-10" name="For" sid="460264388660396" type="System">
                                            <param id="0" name="Name">&quot;splash&quot;</param>
                                            <param id="1" name="Start index">0</param>
                                            <param id="2" name="End index">8</param>
                                        </condition>
                                        <condition id="-4" name="Trigger once while true" sid="986573770179848" type="System" />
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Spawn another object" sid="799123108708644" type="character_base">
                                            <param id="0" name="Object">splash</param>
                                            <param id="1" name="Layer">&quot;objects&quot;</param>
                                            <param id="2" name="Image point">0</param>
                                        </action>
                                        <action id="5" name="Set frame" sid="669373834008711" type="splash">
                                            <param id="0" name="Frame number">loopindex(&quot;splash&quot;)</param>
                                        </action>
                                        <action behavior="Bullet" id="0" name="Set speed" sid="558141794408289" type="splash">
                                            <param id="0" name="Speed">100+random(200)</param>
                                        </action>
                                        <action id="-8" name="Set angle" sid="707893983795835" type="splash">
                                            <param id="0" name="Angle">random(360)</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                    </sub-events>
                </event-group>
                <comment></comment>
                <event-group description="Визуализация прыжка" sid="418351126600750" title="Visualization of a jump">
                    <sub-events>
                        <event-block sid="244358320684546">
                            <conditions>
                                <condition behavior="Platform" id="3" name="Is jumping" sid="789084485491404" type="character_base" />
                                <condition id="-14" name="Compare variable" sid="913680697627427" type="System">
                                    <param id="0" name="Variable">state_game</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;play&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="4" name="Set animation" sid="176411380382716" type="character">
                                    <param id="0" name="Animation">&quot;jump_up&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <event-block sid="364694358322616">
                            <conditions>
                                <condition behavior="Platform" id="4" name="Is falling" sid="597218762246626" type="character_base" />
                                <condition id="-14" name="Compare variable" sid="669984253416239" type="System">
                                    <param id="0" name="Variable">state_game</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">&quot;play&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="4" name="Set animation" sid="911800315772242" type="character">
                                    <param id="0" name="Animation">&quot;jump_down&quot;</param>
                                    <param id="1" name="From">1</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
                <comment></comment>
            </sub-events>
        </event-group>
        <comment></comment>
        <event-group description="Environment generation&#x0D;&#x0A;Монеты&#x0D;&#x0A;Здания&#x0D;&#x0A;Объекты на крыше&#x0D;&#x0A;Враги" sid="576165544694506" title="Функции генерирующие окружение">
            <sub-events>
                <event-group description="Генерация монеток" sid="363940916717601" title="Coins">
                    <sub-events>
                        <comment></comment>
                        <comment>Генерация монет</comment>
                        <comment></comment>
                        <event-block sid="928137570859429">
                            <conditions>
                                <condition id="0" name="On function" sid="390457996035912" type="function">
                                    <param id="0" name="Name">&quot;creating_ordinary_coins&quot;</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="500974241022622">
                                    <conditions>
                                        <condition id="-10" name="For" sid="277362143935859" type="System">
                                            <param id="0" name="Name">&quot;creating_coins&quot;</param>
                                            <param id="1" name="Start index">1</param>
                                            <param id="2" name="End index">function.Param(0)</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-3" name="Create object" sid="566583539997483" type="System">
                                            <param id="0" name="Object to create">coin_base</param>
                                            <param id="1" name="Layer">&quot;game&quot;</param>
                                            <param id="2" name="X">building_variables.wall_x + 300 + (70 * loopindex(&quot;creating_coins&quot;))</param>
                                            <param id="3" name="Y">building_variables.wall_y - 160</param>
                                        </action>
                                        <action behavior="Bullet" id="0" name="Set speed" sid="314261959756724" type="coin_base">
                                            <param id="0" name="Speed">game_speed</param>
                                        </action>
                                        <action behavior="Bullet" id="3" name="Set angle of motion" sid="313575150141678" type="coin_base">
                                            <param id="0" name="Angle">180</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <comment>Уничтожение объектов</comment>
                        <event-block sid="173254546195095">
                            <conditions>
                                <condition id="-1" name="Compare X" sid="874569021849928" type="coin_base">
                                    <param id="0" name="Comparison">2</param>
                                    <param id="1" name="X co-ordinate">- self.Width</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-9" name="Destroy" sid="513724224545342" type="coin_base" />
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
                <comment></comment>
                <event-group description="Генерация зданий" sid="370643282633218" title="Buildings">
                    <sub-events>
                        <comment></comment>
                        <comment>Генерация здания</comment>
                        <comment></comment>
                        <event-block sid="341970128702004">
                            <conditions>
                                <condition id="0" name="On function" sid="149856929891754" type="function">
                                    <param id="0" name="Name">&quot;creating_building&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="170162589259837" type="function">
                                    <param id="0" name="Name">&quot;сalculating_the_building&quot;</param>
                                    <param id="1" name="Parameter {n}"></param>
                                </action>
                                <action id="0" name="Call function" sid="249146281228981" type="function">
                                    <param id="0" name="Name">&quot;creating_walls&quot;</param>
                                    <param id="1" name="Parameter {n}"></param>
                                </action>
                                <action id="0" name="Call function" sid="909550455601599" type="function">
                                    <param id="0" name="Name">&quot;creating_roofs&quot;</param>
                                    <param id="1" name="Parameter {n}"></param>
                                </action>
                                <action id="0" name="Call function" sid="768819318345574" type="function">
                                    <param id="0" name="Name">&quot;creating_windows&quot;</param>
                                    <param id="1" name="Parameter {n}"></param>
                                </action>
                                <action id="0" name="Call function" sid="321702477056900" type="function">
                                    <param id="0" name="Name">&quot;creating_roofs_objects&quot;</param>
                                    <param id="1" name="Parameter {n}"></param>
                                </action>
                            </actions>
                        </event-block>
                        <comment></comment>
                        <comment>Расчет параметров здания</comment>
                        <comment>окна: случайно задаем количество окон от 2 до 10</comment>
                        <comment>ширина стены: (количество окон * ширину окна) + (количество окон + 2) * отступ между окнами (160px)</comment>
                        <comment>высота стены: случайное значение между 128 рх и (высотой текущей стены + 128рх)</comment>
                        <comment>ширина стены: (ширины стены / размер изображения крыши) *  размер изображния крыши</comment>
                        <comment>позиция стены по X оси: ширина уровня</comment>
                        <comment>позиция по Y оси: высота уровня - ширина будущей стены</comment>
                        <comment>количество объектов на крыше: Если ширина стены больше 1600рх, тоггда случайное число от 1 до 4, иначе случайно от 0 до 2</comment>
                        <event-block sid="692261317102616">
                            <conditions>
                                <condition id="0" name="On function" sid="541662833132517" type="function">
                                    <param id="0" name="Name">&quot;сalculating_the_building&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-10" name="Set value" sid="731631109971809" type="building_variables">
                                    <param id="0" name="Instance variable">windows</param>
                                    <param id="1" name="Value">floor(random(2,10))</param>
                                </action>
                                <action id="-10" name="Set value" sid="503975900526982" type="building_variables">
                                    <param id="0" name="Instance variable">wall_width</param>
                                    <param id="1" name="Value">(building_variables.windows * 128) + ((building_variables.windows  + 2) * 160)</param>
                                </action>
                                <action id="-10" name="Set value" sid="689220992067808" type="building_variables">
                                    <param id="0" name="Instance variable">wall_height</param>
                                    <param id="1" name="Value">wall.Height &gt; 600 ? wall.Height / 2 : floor(random(100,  wall.Height + (110  * (1 + ((10 - heart) / 10)))))</param>
                                </action>
                                <action disabled="1" id="-10" name="Set value" sid="925369367033091" type="building_variables">
                                    <param id="0" name="Instance variable">wall_height</param>
                                    <param id="1" name="Value">wall.Height &gt; 500 ? ceil(random(128,  wall.Height +160)) /2 : ceil(random(128,  wall.Height +160))</param>
                                </action>
                                <action id="-10" name="Set value" sid="284595239919597" type="building_variables">
                                    <param id="0" name="Instance variable">roof_width</param>
                                    <param id="1" name="Value">(ceil(building_variables.wall_width / roof.ImageWidth)) * roof.ImageWidth</param>
                                </action>
                                <action id="-10" name="Set value" sid="768504973058314" type="building_variables">
                                    <param id="0" name="Instance variable">wall_x</param>
                                    <param id="1" name="Value">LayoutWidth</param>
                                </action>
                                <action id="-10" name="Set value" sid="396064867220483" type="building_variables">
                                    <param id="0" name="Instance variable">wall_y</param>
                                    <param id="1" name="Value">LayoutHeight -building_variables.wall_height</param>
                                </action>
                                <action id="-10" name="Set value" sid="286393745760641" type="building_variables">
                                    <param id="0" name="Instance variable">roof_objects</param>
                                    <param id="1" name="Value">building_variables.wall_width &gt; 2000 ? floor(random(4)) : floor(random(2))</param>
                                </action>
                            </actions>
                        </event-block>
                        <comment></comment>
                        <comment>Генерация стен</comment>
                        <comment>Расстояние до следюущего блока: ширина стены + случайное значение между базовым расстоянием и базовым расстоянием умноженным на кэффициент 1. жизни</comment>
                        <comment></comment>
                        <event-block sid="189314166522347">
                            <conditions>
                                <condition id="0" name="On function" sid="610017986643697" type="function">
                                    <param id="0" name="Name">&quot;creating_walls&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-3" name="Create object" sid="413559681055565" type="System">
                                    <param id="0" name="Object to create">wall</param>
                                    <param id="1" name="Layer">&quot;Game&quot;</param>
                                    <param id="2" name="X">building_variables.wall_x</param>
                                    <param id="3" name="Y">building_variables.wall_y</param>
                                </action>
                                <action id="-7" name="Set size" sid="943205618983035" type="wall">
                                    <param id="0" name="Width">building_variables.wall_width</param>
                                    <param id="1" name="Height">building_variables.wall_height</param>
                                </action>
                                <action behavior="Bullet" id="3" name="Set angle of motion" sid="831579183816416" type="wall">
                                    <param id="0" name="Angle">180</param>
                                </action>
                                <action behavior="Bullet" id="0" name="Set speed" sid="167609371463264" type="wall">
                                    <param id="0" name="Speed">game_speed</param>
                                </action>
                                <action id="-25" name="Move to bottom" sid="116088891783748" type="wall" />
                                <action id="-9" name="Set value" sid="920665724462130" type="System">
                                    <param id="0" name="Variable">next_block</param>
                                    <param id="1" name="Value">building_variables.wall_width + floor(random(building_variables.next_building_value , (building_variables.next_building_value * (1 + ((9- heart) / 10)))))</param>
                                </action>
                                <action disabled="1" id="-9" name="Set value" sid="324356386475794" type="System">
                                    <param id="0" name="Variable">next_block</param>
                                    <param id="1" name="Value">building_variables.wall_width + 256 + floor((random(2) * 64))</param>
                                </action>
                            </actions>
                        </event-block>
                        <comment></comment>
                        <comment>Генерация крыш</comment>
                        <comment></comment>
                        <event-block sid="616686093461482">
                            <conditions>
                                <condition id="0" name="On function" sid="715104162400544" type="function">
                                    <param id="0" name="Name">&quot;creating_roofs&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-3" name="Create object" sid="328778925305351" type="System">
                                    <param id="0" name="Object to create">roof</param>
                                    <param id="1" name="Layer">&quot;game&quot;</param>
                                    <param id="2" name="X">0</param>
                                    <param id="3" name="Y">0</param>
                                </action>
                                <action id="-7" name="Set size" sid="412216889063286" type="roof">
                                    <param id="0" name="Width">building_variables.roof_width</param>
                                    <param id="1" name="Height">roof.Height</param>
                                </action>
                                <action id="-3" name="Set position" sid="817793276764895" type="roof">
                                    <param id="0" name="X">building_variables.wall_x - ceil(((building_variables.roof_width - building_variables.wall_width) /2))</param>
                                    <param id="1" name="Y">LayoutHeight - building_variables.wall_height - roof.Height</param>
                                </action>
                                <action behavior="Bullet" id="3" name="Set angle of motion" sid="101657417780608" type="roof">
                                    <param id="0" name="Angle">180</param>
                                </action>
                                <action behavior="Bullet" id="0" name="Set speed" sid="650663824216301" type="roof">
                                    <param id="0" name="Speed">game_speed</param>
                                </action>
                                <action id="-25" name="Move to bottom" sid="256193569244086" type="roof" />
                            </actions>
                        </event-block>
                        <comment></comment>
                        <comment>Генерация окон</comment>
                        <comment></comment>
                        <event-block sid="701541038436728">
                            <conditions>
                                <condition id="0" name="On function" sid="346414640810544" type="function">
                                    <param id="0" name="Name">&quot;creating_windows&quot;</param>
                                </condition>
                                <condition id="-10" name="For" sid="887807582990249" type="System">
                                    <param id="0" name="Name">&quot;windows&quot;</param>
                                    <param id="1" name="Start index">1</param>
                                    <param id="2" name="End index">building_variables.windows</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-3" name="Create object" sid="692016259609541" type="System">
                                    <param id="0" name="Object to create">windows</param>
                                    <param id="1" name="Layer">&quot;game&quot;</param>
                                    <param id="2" name="X">LayoutWidth + (160 + windows.Width) * loopindex(&quot;windows&quot;)</param>
                                    <param id="3" name="Y">building_variables.wall_y + 160</param>
                                </action>
                                <action id="5" name="Set frame" sid="900317444130197" type="windows">
                                    <param id="0" name="Frame number">floor(random(0,floor(random(1,3))))</param>
                                </action>
                                <action behavior="Bullet" id="3" name="Set angle of motion" sid="471298449680617" type="windows">
                                    <param id="0" name="Angle">180</param>
                                </action>
                                <action behavior="Bullet" id="0" name="Set speed" sid="695458114000891" type="windows">
                                    <param id="0" name="Speed">game_speed</param>
                                </action>
                                <action id="-24" name="Move to top" sid="810711571950280" type="windows" />
                            </actions>
                        </event-block>
                        <comment></comment>
                        <comment>Генерация объектов крыши</comment>
                        <comment></comment>
                        <event-block sid="641223520228708">
                            <conditions>
                                <condition id="0" name="On function" sid="865343997693357" type="function">
                                    <param id="0" name="Name">&quot;creating_roofs_objects&quot;</param>
                                </condition>
                                <condition id="-7" name="Compare instance variable" sid="819404579749761" type="building_variables">
                                    <param id="0" name="Instance variable">roof_objects</param>
                                    <param id="1" name="Comparison">1</param>
                                    <param id="2" name="Value">0</param>
                                </condition>
                                <condition id="-10" name="For" sid="355610859599582" type="System">
                                    <param id="0" name="Name">&quot;roof_objects&quot;</param>
                                    <param id="1" name="Start index">1</param>
                                    <param id="2" name="End index">building_variables.roof_objects</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-3" name="Create object" sid="824625185026277" type="System">
                                    <param id="0" name="Object to create">roof_object_1</param>
                                    <param id="1" name="Layer">&quot;game&quot;</param>
                                    <param id="2" name="X">LayoutWidth + &#x0D;&#x0A;180 + &#x0D;&#x0A;(((building_variables.wall_width - 360) /building_variables.roof_objects) * (loopindex(&quot;roof_objects&quot;) -1)  + &#x0D;&#x0A;(((building_variables.wall_width - 360) /building_variables.roof_objects) /choose(1,2,3))) &#x0D;&#x0A;</param>
                                    <param id="3" name="Y">LayoutHeight - building_variables.wall_height - roof.Height</param>
                                </action>
                                <action behavior="Bullet" id="3" name="Set angle of motion" sid="368039147679086" type="roof_object_1">
                                    <param id="0" name="Angle">180</param>
                                </action>
                                <action behavior="Bullet" id="0" name="Set speed" sid="489061251966331" type="roof_object_1">
                                    <param id="0" name="Speed">game_speed</param>
                                </action>
                                <action id="5" name="Set frame" sid="145579214572798" type="roof_object_1">
                                    <param id="0" name="Frame number">ceil(random(0,2))</param>
                                </action>
                            </actions>
                        </event-block>
                        <comment></comment>
                    </sub-events>
                </event-group>
                <event-group description="Функции генерации врагов" sid="366139870911612" title="Enemies">
                    <sub-events>
                        <comment></comment>
                        <comment>Голубь. Особенность: движение по синусоиде</comment>
                        <comment></comment>
                        <comment>Параметр 0: Количество голубей, число</comment>
                        <comment>Параметр 1: Скорость движения, число (500 - 1000)</comment>
                        <comment>Параметр 2: Амплитуда (100 - 250)</comment>
                        <event-block sid="448652120217563">
                            <conditions>
                                <condition id="0" name="On function" sid="682978684183301" type="function">
                                    <param id="0" name="Name">&quot;creating_dove&quot;</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <event-block sid="351111864427398">
                                    <conditions>
                                        <condition id="-10" name="For" sid="353113523449295" type="System">
                                            <param id="0" name="Name">&quot;count_of_dove&quot;</param>
                                            <param id="1" name="Start index">1</param>
                                            <param id="2" name="End index">function.Param(0)</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="-16" name="Wait" sid="540576523237729" type="System">
                                            <param id="0" name="Seconds">random(0.1, 0.4)</param>
                                        </action>
                                        <action id="-3" name="Create object" sid="813090851926361" type="System">
                                            <param id="0" name="Object to create">dove_base</param>
                                            <param id="1" name="Layer">&quot;game&quot;</param>
                                            <param id="2" name="X">ViewportRight(&quot;gui&quot;) + 90</param>
                                            <param id="3" name="Y"> ceil( random((ViewportTop(&quot;gui&quot;) + 100), (ViewportBottom(&quot;gui&quot;) -150)))</param>
                                        </action>
                                        <action behavior="Sine" id="0" name="Set active" sid="413015059894065" type="dove_base">
                                            <param id="0" name="State">1</param>
                                        </action>
                                        <action behavior="Sine" id="2" name="Set magnitude" sid="190411832360986" type="dove_base">
                                            <param id="0" name="Magnitude">ceil(random(100-250))</param>
                                        </action>
                                        <action behavior="Sine" id="1" name="Set period" sid="925105834475658" type="dove_base">
                                            <param id="0" name="Period">choose(1, 1.5, 2)</param>
                                        </action>
                                        <action behavior="Bullet" id="3" name="Set angle of motion" sid="577632300635769" type="dove_base">
                                            <param id="0" name="Angle">choose(160, 180, 200)</param>
                                        </action>
                                        <action behavior="Bullet" id="1" name="Set acceleration" sid="903575134659593" type="dove_base">
                                            <param id="0" name="Acceleration">200</param>
                                        </action>
                                        <action behavior="Bullet" id="0" name="Set speed" sid="302689074022083" type="dove_base">
                                            <param id="0" name="Speed">600</param>
                                        </action>
                                        <action id="-10" name="Set value" sid="333471923077362" type="dove_base">
                                            <param id="0" name="Instance variable">dead_enemies</param>
                                            <param id="1" name="Value">0</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <comment></comment>
                        <comment>Воробей. Птица на крыше</comment>
                        <comment>Вычисляем участок крыши, на котором будут генерироваться воробьи</comment>
                        <event-block sid="561678043249265">
                            <conditions>
                                <condition id="0" name="On function" sid="224085928816401" type="function">
                                    <param id="0" name="Name">&quot;creating_sparrow&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="0" name="Call function" sid="507089904928225" type="function">
                                    <param id="0" name="Name">&quot;creating_sparrows_on_roof&quot;</param>
                                    <param id="1" name="Parameter {n}">floor(random(0, ceil(building_variables.windows / 2))){###}(building_variables.wall_width - 200) / (ceil(building_variables.windows / 2))</param>
                                </action>
                            </actions>
                        </event-block>
                        <comment></comment>
                        <comment>Функция генерации воробьев. В параметре номер участка: от 0 до 5</comment>
                        <comment>Параметр 0: номер участка на крыше, на котором будет сгенерирована группа воробьев, число от 0 до 5</comment>
                        <comment>Параметр 1: размер участка в пикселах</comment>
                        <event-block sid="136781112040694">
                            <conditions>
                                <condition id="0" name="On function" sid="578857417826727" type="function">
                                    <param id="0" name="Name">&quot;creating_sparrows_on_roof&quot;</param>
                                </condition>
                                <condition id="-10" name="For" sid="266163517781561" type="System">
                                    <param id="0" name="Name">&quot;count_of_sparrows&quot;</param>
                                    <param id="1" name="Start index">0</param>
                                    <param id="2" name="End index">ceil(building_variables.windows / 2)</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-3" name="Create object" sid="841864294426887" type="System">
                                    <param id="0" name="Object to create">sparrow_base</param>
                                    <param id="1" name="Layer">&quot;game&quot;</param>
                                    <param id="2" name="X">LayoutWidth + 150 + (function.Param(0) * function.Param(1)) + (100 * loopindex(&quot;count_of_sparrows&quot;) - 1)</param>
                                    <param id="3" name="Y">LayoutHeight - building_variables.wall_height - roof.Height</param>
                                </action>
                                <action id="4" name="Set animation" sid="699395224694265" type="sparrow_base">
                                    <param id="0" name="Animation">choose(&quot;base&quot;,&quot;down&quot;,&quot;left&quot;)</param>
                                    <param id="1" name="From">1</param>
                                </action>
                                <action id="-10" name="Set value" sid="953439850156094" type="sparrow_base">
                                    <param id="0" name="Instance variable">dead_enemies</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                            </actions>
                        </event-block>
                        <comment></comment>
                        <comment>Ястреб. Летит на персонажа с ускорением</comment>
                        <comment></comment>
                        <comment></comment>
                        <event-block sid="288328105564867">
                            <conditions>
                                <condition id="0" name="On function" sid="460770439199668" type="function">
                                    <param id="0" name="Name">&quot;creating_hawk&quot;</param>
                                </condition>
                            </conditions>
                            <actions>
                                <action id="-3" name="Create object" sid="737114155765863" type="System">
                                    <param id="0" name="Object to create">hawk_base</param>
                                    <param id="1" name="Layer">&quot;game&quot;</param>
                                    <param id="2" name="X">ViewportRight(&quot;gui&quot;) + 100</param>
                                    <param id="3" name="Y"> ViewportTop(&quot;gui&quot;) + 300</param>
                                </action>
                                <action id="5" name="Set frame" sid="167830828011855" type="hawk_base">
                                    <param id="0" name="Frame number">1</param>
                                </action>
                                <action id="-10" name="Set value" sid="794161008006007" type="hawk_base">
                                    <param id="0" name="Instance variable">dead_enemies</param>
                                    <param id="1" name="Value">0</param>
                                </action>
                                <action id="-10" name="Set value" sid="150995355037408" type="hawk_base">
                                    <param id="0" name="Instance variable">state_enemies</param>
                                    <param id="1" name="Value">&quot;action&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                    </sub-events>
                </event-group>
            </sub-events>
        </event-group>
        <comment></comment>
        <event-group description="Пользовательский интерфейс в игровой комнате Game&#x0D;&#x0A;Расположение кнопок. Обработка нажатия. " sid="505886189563987" title="GUI">
            <sub-events>
                <comment>Пользовательский интерфейс, обработка нажатий на кнопки</comment>
                <comment>Расположение элементов на игровом поле</comment>
                <event-block sid="291045108835572">
                    <conditions>
                        <condition id="-2" name="On start of layout" sid="192945600613936" type="System" />
                    </conditions>
                    <actions>
                        <action disabled="1" id="-3" name="Set position" sid="804917440279244" type="sf39">
                            <param id="0" name="X">ViewportLeft(3) + 35</param>
                            <param id="1" name="Y">ViewportTop(3) + 40</param>
                        </action>
                        <action disabled="1" id="-3" name="Set position" sid="149809863934753" type="buttons">
                            <param id="0" name="X">ViewportLeft(3) + 35</param>
                            <param id="1" name="Y">ViewportBottom(3) - 40</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Вывод на экран пройденного расстояния раунда</comment>
                <event-block sid="208990380242613">
                    <conditions>
                        <condition id="-6" name="Every X seconds" sid="696863396330657" type="System">
                            <param id="0" name="Interval (seconds)">0.1</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="473376473429709" type="sf39">
                            <param id="0" name="Instance variable">class</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;distance&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="0" name="Set text" sid="595430391904027" type="sf39">
                            <param id="0" name="Text">round(round_distance) &amp; &quot;m&quot;</param>
                        </action>
                    </actions>
                </event-block>
                <comment></comment>
                <comment></comment>
                <comment>Пауза</comment>
                <event-block sid="306850778451677">
                    <conditions>
                        <condition id="17" name="On tap object" sid="665018217687761" type="Touch">
                            <param id="0" name="Object">buttons</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="659966837855777" type="buttons">
                            <param id="0" name="Instance variable">class</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;pause&quot;</param>
                        </condition>
                        <condition id="-8" name="Compare two values" sid="925172466295757" type="System">
                            <param id="0" name="First value">timescale</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Second value">1.0</param>
                        </condition>
                        <condition id="-14" name="Compare variable" sid="519606924862004" type="System">
                            <param id="0" name="Variable">state_game</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;play&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-16" name="Wait" sid="171914528817802" type="System">
                            <param id="0" name="Seconds">0.01</param>
                        </action>
                        <action id="-13" name="Set time scale" sid="632789327894986" type="System">
                            <param id="0" name="Time scale">0</param>
                        </action>
                        <action id="5" name="Set frame" sid="889657103212740" type="buttons">
                            <param id="0" name="Frame number">1</param>
                        </action>
                        <action id="-4" name="Set layer visible" sid="324710486887952" type="System">
                            <param id="0" name="Layer">&quot;pause&quot;</param>
                            <param id="1" name="Visibility">1</param>
                        </action>
                        <action id="-9" name="Set value" sid="571196146384098" type="System">
                            <param id="0" name="Variable">state_game</param>
                            <param id="1" name="Value">&quot;pause&quot;</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="293160216559856">
                    <conditions>
                        <condition id="-14" name="Compare variable" sid="143327374225882" type="System">
                            <param id="0" name="Variable">state_game</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;pause&quot;</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="735582926392056" type="sf39">
                            <param id="0" name="Instance variable">class</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;pause&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-15" name="Set visible" sid="480082118068604" type="sf39">
                            <param id="0" name="Visibility">1</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Отмена паузы</comment>
                <event-block sid="609355674414708">
                    <conditions>
                        <condition id="17" name="On tap object" sid="289281984778250" type="Touch">
                            <param id="0" name="Object">buttons</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="828740138504920" type="buttons">
                            <param id="0" name="Instance variable">class</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;pause&quot;</param>
                        </condition>
                        <condition id="-8" name="Compare two values" sid="782345198179679" type="System">
                            <param id="0" name="First value">timescale</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Second value">0</param>
                        </condition>
                        <condition id="-14" name="Compare variable" sid="500321883216340" type="System">
                            <param id="0" name="Variable">state_game</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;pause&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-13" name="Set time scale" sid="378642302804051" type="System">
                            <param id="0" name="Time scale">1.0</param>
                        </action>
                        <action id="5" name="Set frame" sid="531431316007469" type="buttons">
                            <param id="0" name="Frame number">0</param>
                        </action>
                        <action id="-4" name="Set layer visible" sid="616141686686252" type="System">
                            <param id="0" name="Layer">&quot;pause&quot;</param>
                            <param id="1" name="Visibility">0</param>
                        </action>
                        <action id="-9" name="Set value" sid="414441141893404" type="System">
                            <param id="0" name="Variable">state_game</param>
                            <param id="1" name="Value">&quot;play&quot;</param>
                        </action>
                    </actions>
                </event-block>
                <event-block sid="221690998783114">
                    <conditions>
                        <condition id="-14" inverted="1" name="Compare variable" sid="907035508550805" type="System">
                            <param id="0" name="Variable">state_game</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;pause&quot;</param>
                        </condition>
                        <condition id="-7" name="Compare instance variable" sid="646547600748236" type="sf39">
                            <param id="0" name="Instance variable">class</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;pause&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-15" name="Set visible" sid="464494299383998" type="sf39">
                            <param id="0" name="Visibility">0</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Пауза (Пробел)</comment>
                <event-block sid="618954833429923">
                    <conditions>
                        <condition id="0" name="On key pressed" sid="523975837808958" type="Keyboard">
                            <param id="0" name="Key">32</param>
                        </condition>
                        <condition id="-8" name="Compare two values" sid="285432137477254" type="System">
                            <param id="0" name="First value">timescale</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Second value">1.0</param>
                        </condition>
                        <condition id="-14" name="Compare variable" sid="551672595412135" type="System">
                            <param id="0" name="Variable">state_game</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;play&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-16" name="Wait" sid="871695600774691" type="System">
                            <param id="0" name="Seconds">0.01</param>
                        </action>
                        <action id="-13" name="Set time scale" sid="731742207048335" type="System">
                            <param id="0" name="Time scale">0</param>
                        </action>
                        <action id="5" name="Set frame" sid="580216141843594" type="buttons">
                            <param id="0" name="Frame number">1</param>
                        </action>
                        <action id="-4" name="Set layer visible" sid="311404115378648" type="System">
                            <param id="0" name="Layer">&quot;pause&quot;</param>
                            <param id="1" name="Visibility">1</param>
                        </action>
                        <action id="-9" name="Set value" sid="886052225010935" type="System">
                            <param id="0" name="Variable">state_game</param>
                            <param id="1" name="Value">&quot;pause&quot;</param>
                        </action>
                    </actions>
                </event-block>
                <comment>Отмена паузаы (Пробел)</comment>
                <event-block sid="347359166061799">
                    <conditions>
                        <condition id="0" name="On key pressed" sid="998138452950476" type="Keyboard">
                            <param id="0" name="Key">32</param>
                        </condition>
                        <condition id="-8" name="Compare two values" sid="699325292676546" type="System">
                            <param id="0" name="First value">timescale</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Second value">0</param>
                        </condition>
                        <condition id="-14" name="Compare variable" sid="613744577606772" type="System">
                            <param id="0" name="Variable">state_game</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">&quot;pause&quot;</param>
                        </condition>
                    </conditions>
                    <actions>
                        <action id="-13" name="Set time scale" sid="642798696232788" type="System">
                            <param id="0" name="Time scale">1.0</param>
                        </action>
                        <action id="5" name="Set frame" sid="721037015394808" type="buttons">
                            <param id="0" name="Frame number">0</param>
                        </action>
                        <action id="-4" name="Set layer visible" sid="650471231711147" type="System">
                            <param id="0" name="Layer">&quot;pause&quot;</param>
                            <param id="1" name="Visibility">0</param>
                        </action>
                        <action id="-9" name="Set value" sid="916377722336974" type="System">
                            <param id="0" name="Variable">state_game</param>
                            <param id="1" name="Value">&quot;play&quot;</param>
                        </action>
                    </actions>
                </event-block>
                <comment></comment>
                <comment>вывод статуса способности боевое мяу</comment>
                <comment>если способность доступна</comment>
                <event-block sid="385365831309762">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="807731331757632" type="variables">
                            <param id="0" name="Instance variable">battle_meow</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">1</param>
                        </condition>
                    </conditions>
                    <actions />
                    <sub-events>
                        <event-block sid="493172722930035">
                            <conditions>
                                <condition id="-4" name="Trigger once while true" sid="304383519883227" type="System" />
                            </conditions>
                            <actions>
                                <action id="-15" name="Set visible" sid="679394632808895" type="battle_meow_status">
                                    <param id="0" name="Visibility">1</param>
                                </action>
                            </actions>
                        </event-block>
                        <comment>идет перезарядка</comment>
                        <event-block sid="188171345847610">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="248141837426584" type="character_base">
                                    <param id="0" name="Instance variable">battle_meow_state</param>
                                    <param id="1" name="Comparison">4</param>
                                    <param id="2" name="Value">1</param>
                                </condition>
                            </conditions>
                            <actions />
                            <sub-events>
                                <comment></comment>
                                <event-block sid="416765790802643">
                                    <conditions>
                                        <condition id="-6" name="Every X seconds" sid="259717290057008" type="System">
                                            <param id="0" name="Interval (seconds)">dt * 60</param>
                                        </condition>
                                    </conditions>
                                    <actions>
                                        <action id="0" name="Set text" sid="409822490826577" type="battle_meow_status">
                                            <param id="0" name="Text">&quot;Battle meow is reloading: &quot; &amp; newline &amp; character_base.battle_meow_state - 1</param>
                                        </action>
                                    </actions>
                                </event-block>
                            </sub-events>
                        </event-block>
                        <comment>заряжена</comment>
                        <event-block sid="733405429943216">
                            <conditions>
                                <condition id="-7" name="Compare instance variable" sid="278848811346202" type="character_base">
                                    <param id="0" name="Instance variable">battle_meow_state</param>
                                    <param id="1" name="Comparison">0</param>
                                    <param id="2" name="Value">1</param>
                                </condition>
                                <condition id="-4" name="Trigger once while true" sid="740692017394717" type="System" />
                            </conditions>
                            <actions>
                                <action id="0" name="Set text" sid="157633453537568" type="battle_meow_status">
                                    <param id="0" name="Text">&quot;Battle meow is ready now!&quot;</param>
                                </action>
                            </actions>
                        </event-block>
                        <comment></comment>
                    </sub-events>
                </event-block>
                <comment>если способность не доступна</comment>
                <event-block sid="884723056440726">
                    <conditions>
                        <condition id="-7" name="Compare instance variable" sid="324922873977646" type="variables">
                            <param id="0" name="Instance variable">battle_meow</param>
                            <param id="1" name="Comparison">0</param>
                            <param id="2" name="Value">0</param>
                        </condition>
                        <condition id="-4" name="Trigger once while true" sid="473391133320006" type="System" />
                    </conditions>
                    <actions>
                        <action id="-15" name="Set visible" sid="267674324408374" type="battle_meow_status">
                            <param id="0" name="Visibility">0</param>
                        </action>
                    </actions>
                </event-block>
            </sub-events>
        </event-group>
    </events>
</c2eventsheet>
